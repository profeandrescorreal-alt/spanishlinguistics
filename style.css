async function init() {
  try {
    setStatus("Loading weeks…");

    const todayISO = getChicagoISODate();

    // Cache-busting: fuerza a traer la versión más reciente de weeks.json
    const res = await fetch(`weeks.json?v=${Date.now()}`, { cache: "no-store" });
    if (!res.ok) throw new Error(`Failed to load weeks.json (HTTP ${res.status}).`);

    const data = await res.json();
    const weeks = Array.isArray(data) ? data : data.weeks;

    if (!Array.isArray(weeks) || weeks.length === 0) {
      throw new Error("weeks.json has no weeks array.");
    }

    renderWeeks(weeks, todayISO);
  } catch (err) {
    console.error(err);
    setStatus(
      "Could not load weeks. If you opened this as a file, run a local server (e.g., python -m http.server).",
      "error"
    );
  }
}
