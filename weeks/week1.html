<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>SPA 225 — Week 1 (Discussions)</title>
    <meta name="description" content="SPA 225 Discussions — Week 1" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />

    <!-- Cache-busting for GitHub Pages -->
    <link rel="stylesheet" href="../style.css?v=3" />
  </head>

  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header class="hero" role="banner">
      <div class="hero__inner">
        <h1 class="hero__title">SPA 225: Lying, swearing and breaking the rules</h1>
        <p class="hero__subtitle">Discussions</p>
      </div>
    </header>

    <main id="main" class="main" role="main">
      <nav class="page-nav" aria-label="Week navigation">
        <a class="nav-link" href="../index.html">← Back to weeks</a>

        <div class="nav-group" aria-label="Previous and next week">
          <span class="nav-link is-disabled" aria-disabled="true">← Prev</span>
          <a class="nav-link" href="./week2.html">Next →</a>
        </div>
      </nav>

      <header class="week-header">
        <h2 class="week-title">Week 1</h2>
        <!-- Optional: add dates here later -->
      </header>

      <!-- SLIDES -->
      <section class="card" aria-labelledby="slides-title">
        <h3 id="slides-title" class="section-title">Slides and study material</h3>

        <div class="slides-embed" id="slides-week1" aria-label="Slides and materials container (Week 1)">
          <!-- START EDITABLE: SLIDES/STUDY MATERIAL -->
          <!-- Paste OneDrive embed iframe(s) and study content below -->
          <!-- NOTE (invisible to students):
               - Keep iframe width="100%" for responsive layout.
               - Use a meaningful iframe title for accessibility.
               - For external links, prefer: target="_blank" rel="noopener noreferrer".
          -->

          <!-- OneDrive placeholder: pega aquí tu link de embed -->
          <!--
          <iframe
            title="Week 1 slides (OneDrive)"
            src=""
            width="100%"
            height="520"
            frameborder="0"
            allowfullscreen
          ></iframe>
          -->

          <!-- END EDITABLE -->
        </div>
      </section>

      <!-- GAMES -->
      <section class="card" aria-labelledby="games-title">
        <h3 id="games-title" class="section-title">Games</h3>

        <section class="game-embed" id="game-week1" aria-label="Game embed area (Week 1)">
          <!-- START EDITABLE: GAMES -->
          <!-- Paste a full game block here (HTML + optional <style> + optional <script>) -->

          <!-- NOTE (invisible to students):
               - If your game includes CSS, namespace it inside #game-week1 or .game-embed
                 (example: #game-week1 .my-class { ... } ).
               - If your game includes JS, wrap it in an IIFE:
                 (() => { /* your game code */ })();
               - Avoid touching global styles (body, html) inside your game.
          -->










<div class="wrap" id="vfGame">
<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Juego 1 — Verdadero/Falso</title>
  <meta name="description" content="Juego interactivo de Verdadero/Falso con justificación y comprobación al final." />
  <style>
/* ===== Tema CLARO solo para el juego ===== */
#vfGame{
  /* Variables locales SOLO para el juego */
  --bg: #f5f7fb;
  --panel: #ffffff;
  --text: #111827;
  --muted:#4b5563;
  --border:#e5e7eb;
  --shadow: 0 8px 24px rgba(17,24,39,.08);
  --focus:#2563eb;

  --btn:#ffffff;
  --btnHover:#f3f4f6;

  /* (Opcional) si quieres mantener tus nombres */
  --radius: 18px;

  /* Estilo del “área del juego” sin afectar la página */
  background:
    radial-gradient(900px 520px at 15% 10%, rgba(37,99,235,.10), transparent 60%),
    radial-gradient(900px 520px at 85% 20%, rgba(22,163,74,.08), transparent 60%),
    var(--bg);
  color: var(--text);
  padding: 22px 16px 48px;
  border-radius: 22px;
  border: 1px solid rgba(17,24,39,.08);
}

/* Si tu página ya define font-family global y no quieres tocarlo, borra esta línea: */
#vfGame{ font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }

/* IMPORTANTE: ahora todo lo que antes era .card, .btn, etc, se aplica SOLO dentro del juego */
#vfGame .grid{ display:grid; gap:14px; }

#vfGame .card{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 18px 16px;
}

#vfGame .card h2{
  margin:0 0 8px 0;
  font-size: .98rem;
  color: var(--muted);
  font-weight:650;
}

#vfGame legend{
  font-weight: 750;
  font-size: 1.06rem;
  max-width: 78ch;
}

#vfGame .subtitle,
#vfGame .muted,
#vfGame label.small,
#vfGame .msg,
#vfGame .hint,
#vfGame .pill{
  color: var(--muted);
}

#vfGame .opt{
  border:1px solid var(--border);
  background: #f9fafb;
}

#vfGame .opt:focus-within{
  outline: 3px solid rgba(37,99,235,.25);
  outline-offset: 2px;
}

#vfGame textarea{
  border: 1px solid var(--border);
  background: #ffffff;
  color: var(--text);
}

#vfGame textarea:focus{
  outline: 3px solid rgba(37,99,235,.22);
  outline-offset: 2px;
}

#vfGame .btn{
  border: 1px solid var(--border);
  background: var(--btn);
  color: var(--text);
}

#vfGame .btn:hover{ background: var(--btnHover); }

#vfGame .btn.primary{
  border-color: rgba(37,99,235,.35);
  background: rgba(37,99,235,.10);
}
#vfGame .btn.primary:hover{ background: rgba(37,99,235,.14); }

#vfGame .btn.danger{
  border-color: rgba(220,38,38,.30);
  background: rgba(220,38,38,.08);
}
#vfGame .btn.danger:hover{ background: rgba(220,38,38,.12); }

#vfGame .feedback{
  border: 1px solid var(--border);
  background: #f9fafb;
  border-radius: 14px;
}

#vfGame .badge{
  border: 1px solid var(--border);
  background: #ffffff;
}

#vfGame .badge.good{
  border-color: rgba(22,163,74,.35);
  background: rgba(22,163,74,.10);
  color: #065f46;
}
#vfGame .badge.bad{
  border-color: rgba(220,38,38,.30);
  background: rgba(220,38,38,.08);
  color: #7f1d1d;
}
#vfGame .badge.warn{
  border-color: rgba(217,119,6,.35);
  background: rgba(217,119,6,.10);
  color: #7c2d12;
}

#vfGame .hr{
  height:1px;
  background: rgba(17,24,39,.10);
}


  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="title">
        <h1>Juego 1 — Verdadero / Falso</h1>
        <p class="subtitle">
          Lee cada enunciado y elige <strong>CIERTO</strong> o <strong>FALSO</strong>.
          Si eliges <strong>FALSO</strong>, escribe tu explicación. Cuando termines <em>todos</em> los ítems, presiona <strong>Comprobar</strong> para comparar tus respuestas con las correctas.
        </p>
      </div>
    </header>

    <main class="grid" id="game" aria-live="polite"></main>

    <section class="card summary" aria-label="Comprobar y resumen">
      <div class="summaryTop">
        <div class="pill" id="scorePill">Puntaje: <strong>—</strong></div>
        <div class="actions">
          <button class="btn" id="toggleResponsesBtn" type="button" disabled>
            Mostrar mis respuestas escritas
          </button>
          <button class="btn primary" id="checkAllBtn" type="button">
            Comprobar
          </button>
          <button class="btn danger" id="resetBtn" type="button">Reiniciar</button>
        </div>
      </div>

      <div id="globalMsg" class="msg" aria-live="polite"></div>

      <p class="hint">
        Nota: No verás las respuestas correctas hasta presionar <strong>Comprobar</strong> al final.
      </p>
    </section>
  </div>

  <script>
    (() => {
      const items = [
        {
          id: 1,
          statement: "La lingüística consiste principalmente en aprender a hablar y escribir “correctamente” una lengua y/o en aprender muchas lenguas.",
          correctAnswer: false,
          explanation: "FALSO. La lingüística no es “aprender a hablar/escribir correctamente” ni “aprender muchas lenguas”; es el estudio del lenguaje como fenómeno humano (cómo funciona, cómo se organiza, cómo cambia, cómo se usa)."
        },
        {
          id: 2,
          statement: "La lingüística es una ciencia que estudia distintos aspectos del lenguaje humano y, para investigarlos, puede analizar documentos históricos, grabar y analizar habla o diseñar experimentos.",
          correctAnswer: true,
          explanation: "CIERTO. Se plantea como una disciplina/ciencia que investiga el lenguaje con distintos métodos (análisis de datos, registros, observación, experimentos, etc.)."
        },
        {
          id: 3,
          statement: "Como el lenguaje siempre se basa en sonidos, las lenguas de señas no se pueden estudiar en lingüística.",
          correctAnswer: false,
          explanation: "FALSO. El lenguaje no depende de “sonidos” necesariamente: las lenguas de señas también tienen estructura y pueden estudiarse lingüísticamente."
        },
        {
          id: 4,
          statement: "“Lenguaje” (capacidad humana general) no es lo mismo que “lengua/idioma” (una manifestación concreta como español), aunque en inglés ambos suelen llamarse language.",
          correctAnswer: true,
          explanation: "CIERTO. “Lenguaje” es la capacidad general; “lengua/idioma” es un sistema particular (español, inglés, etc.), y en inglés ambos se expresan con language, lo que puede confundir."
        },
        {
          id: 5,
          statement: "Las “reglas” que importan en lingüística son sobre todo prescriptivas (las de manuales), y lo que la gente dice naturalmente no es parte del análisis.",
          correctAnswer: false,
          explanation: "FALSO. La lingüística describe y analiza las reglas/patrones del uso real; no se limita a reglas prescriptivas de manual."
        }
      ];

      // Estado por ítem
      const state = items.map(it => ({
        id: it.id,
        selected: null,      // true | false
        justification: "",
        hasJustificationField: false
      }));

      let checkedAll = false;
      let showWritten = false;

      const gameEl = document.getElementById("game");
      const scorePill = document.getElementById("scorePill");
      const toggleResponsesBtn = document.getElementById("toggleResponsesBtn");
      const checkAllBtn = document.getElementById("checkAllBtn");
      const resetBtn = document.getElementById("resetBtn");
      const globalMsg = document.getElementById("globalMsg");

      function makeEl(tag, attrs = {}, children = []) {
        const el = document.createElement(tag);
        for (const [k, v] of Object.entries(attrs)) {
          if (k === "class") el.className = v;
          else if (k === "text") el.textContent = v;
          else if (k === "html") el.innerHTML = v;
          else if (k.startsWith("aria-")) el.setAttribute(k, v);
          else el.setAttribute(k, v);
        }
        for (const child of children) el.appendChild(child);
        return el;
      }

      function allAnsweredAndValid() {
        // Debe haber selección en todos; y si seleccionó falso, justificación no vacía
        for (const s of state) {
          if (s.selected === null) return false;
          if (s.selected === false && s.justification.trim().length === 0) return false;
        }
        return true;
      }

      function countCorrect() {
        let correct = 0;
        for (const s of state) {
          const item = items.find(i => i.id === s.id);
          if (s.selected === item.correctAnswer) correct++;
        }
        return correct;
      }

      function anyWritten() {
        // Consideramos “respuesta escrita” cuando seleccionó falso (tenga o no texto),
        // pero el botón se habilita cuando exista al menos una justificación real.
        return state.some(s => s.selected === false && s.justification.trim().length > 0);
      }

      function updateControls() {
        // Botón comprobar: solo activo si no se ha comprobado y todo está completo/valido
        checkAllBtn.disabled = checkedAll || !allAnsweredAndValid();

        // Toggle: solo disponible si ya se comprobó y hay algo escrito
        toggleResponsesBtn.disabled = !checkedAll || !anyWritten();
        toggleResponsesBtn.textContent = showWritten ? "Ocultar mis respuestas escritas" : "Mostrar mis respuestas escritas";

        // Puntaje
        if (!checkedAll) {
          scorePill.innerHTML = `Puntaje: <strong>—</strong>`;
        } else {
          const c = countCorrect();
          scorePill.innerHTML = `Puntaje: <strong>${c}/${items.length}</strong>`;
        }
      }

      function render() {
        gameEl.innerHTML = "";

        items.forEach((item, idx) => {
          const s = state[idx];

          const card = makeEl("section", { class: "card", "aria-label": `Ítem ${item.id}` });
          card.appendChild(makeEl("h2", { text: `Ítem ${item.id}` }));

          const fs = makeEl("fieldset", {});
          fs.appendChild(makeEl("legend", { text: item.statement }));

          // Opciones
          const options = makeEl("div", { class: "options" });
          const group = `q_${item.id}`;

          options.appendChild(makeOption(item.id, group, true, "CIERTO", s, card));
          options.appendChild(makeOption(item.id, group, false, "FALSO", s, card));

          fs.appendChild(options);

          // Justificación (solo si selecciona FALSO)
          const tw = makeEl("div", { class: "textareaWrap", id: `tw_${item.id}` });
          if (s.selected === false) {
            const lbl = makeEl("label", {
              class: "small",
              for: `ta_${item.id}`,
              text: "Explica brevemente por qué es falso (1–2 oraciones)."
            });

            const ta = makeEl("textarea", {
              id: `ta_${item.id}`,
              maxlength: "700",
              placeholder: "Escribe tu explicación aquí…",
              "aria-label": "Explicación del estudiante"
            });
            ta.value = s.justification;
            if (checkedAll) ta.disabled = true;

            ta.addEventListener("input", () => {
              s.justification = ta.value;
              validateInline(item.id);
              updateControls();
              syncWrittenVisibility(item.id);
            });

            const msg = makeEl("div", { id: `msg_${item.id}`, class: "msg", "aria-live": "polite" });

            tw.appendChild(lbl);
            tw.appendChild(ta);
            tw.appendChild(msg);
          }
          fs.appendChild(tw);

          // Feedback (solo después de comprobar)
          if (checkedAll) {
            card.appendChild(renderFeedback(item, s));
          }

          card.appendChild(fs);
          gameEl.appendChild(card);

          syncWrittenVisibility(item.id);
        });

        updateControls();
      }

      function makeOption(itemId, groupName, valueBool, labelText, s, card) {
        const wrapper = makeEl("label", { class: "opt" });

        const input = makeEl("input", {
          type: "radio",
          name: groupName,
          value: valueBool ? "true" : "false",
          "aria-label": labelText
        });

        if (s.selected === valueBool) input.checked = true;
        if (checkedAll) input.disabled = true;

        input.addEventListener("change", () => {
          if (checkedAll) return;

          s.selected = valueBool;

          // re-render para mostrar/ocultar textarea
          render();

          // foco útil
          if (valueBool === false) {
            const ta = document.getElementById(`ta_${itemId}`);
            if (ta) ta.focus();
          } else {
            const msg = document.getElementById(`msg_${itemId}`);
            if (msg) msg.textContent = "";
          }

          globalMsg.textContent = "";
          globalMsg.classList.remove("error");
          updateControls();
        });

        wrapper.appendChild(input);
        wrapper.appendChild(makeEl("span", { text: labelText }));
        return wrapper;
      }

      function validateInline(itemId) {
        const s = state.find(x => x.id === itemId);
        if (!s) return;

        const msg = document.getElementById(`msg_${itemId}`);
        if (!msg) return;

        if (s.selected === false && s.justification.trim().length === 0) {
          msg.textContent = "Recuerda escribir una explicación para este ítem.";
          msg.classList.add("error");
        } else {
          msg.textContent = "";
          msg.classList.remove("error");
        }
      }

      function renderFeedback(item, s) {
        const correct = (s.selected === item.correctAnswer);

        const fb = makeEl("div", { class: "feedback", id: `fb_${item.id}` });

        const badge = makeEl("div", { class: `badge ${correct ? "good" : "bad"}` });
        badge.textContent = correct ? "✅ Correcto" : "❌ Incorrecto";
        fb.appendChild(badge);

        const answerLine = makeEl("div", { class: "answerline" });
        answerLine.textContent = `Respuesta correcta: ${item.correctAnswer ? "CIERTO" : "FALSO"}.`;
        fb.appendChild(answerLine);

        fb.appendChild(makeEl("div", { class: "hr" }));

        const expTitle = makeEl("div", { class: "muted" });
        expTitle.textContent = "Explicación:";
        const expText = makeEl("div", {});
        expText.textContent = item.explanation;

        fb.appendChild(expTitle);
        fb.appendChild(expText);

        // “Tu explicación” (solo si el estudiante eligió falso)
        if (s.selected === false) {
          fb.appendChild(makeEl("div", { class: "hr" }));

          const yourBox = makeEl("div", { id: `your_${item.id}` });
          const yourLabel = makeEl("div", { class: "badge warn" });
          yourLabel.textContent = "✍️ Tu explicación";

          const yourText = makeEl("div", { class: "muted", id: `yourText_${item.id}` });
          yourText.textContent = s.justification.trim().length ? s.justification.trim() : "(Sin texto)";

          yourBox.appendChild(yourLabel);
          yourBox.appendChild(yourText);
          fb.appendChild(yourBox);
        }

        return fb;
      }

      function syncWrittenVisibility(itemId) {
        const yourBox = document.getElementById(`your_${itemId}`);
        if (!yourBox) return;

        yourBox.style.display = showWritten ? "" : "none";
      }

      function syncAllWrittenVisibility() {
        state.forEach(s => syncWrittenVisibility(s.id));
      }

      function checkAll() {
        // Validación global final
        if (!allAnsweredAndValid()) {
          globalMsg.textContent = "Antes de comprobar: responde todos los ítems y escribe explicación en los que marcaste FALSO.";
          globalMsg.classList.add("error");

          // Marcar inline mensajes donde falte justificación
          state.forEach(s => {
            if (s.selected === false && s.justification.trim().length === 0) {
              validateInline(s.id);
            }
          });

          // Enfocar el primer problema
          const firstMissing = state.find(s => s.selected === null || (s.selected === false && s.justification.trim().length === 0));
          if (firstMissing) {
            // Si falta selección, enfocar el primer radio del ítem
            if (firstMissing.selected === null) {
              const firstRadio = document.querySelector(`input[name="q_${firstMissing.id}"]`);
              if (firstRadio) firstRadio.focus();
            } else {
              const ta = document.getElementById(`ta_${firstMissing.id}`);
              if (ta) ta.focus();
            }
          }

          return;
        }

        checkedAll = true;
        globalMsg.textContent = "Listo: ahora puedes comparar tus respuestas con las correctas.";
        globalMsg.classList.remove("error");

        render();
        // Por defecto, ocultas; el usuario puede mostrarlas con el toggle
        showWritten = false;
        updateControls();
        syncAllWrittenVisibility();
      }

      function resetAll() {
        checkedAll = false;
        showWritten = false;
        globalMsg.textContent = "";
        globalMsg.classList.remove("error");

        state.forEach(s => {
          s.selected = null;
          s.justification = "";
        });

        render();
      }

      // Eventos
      checkAllBtn.addEventListener("click", checkAll);

      toggleResponsesBtn.addEventListener("click", () => {
        showWritten = !showWritten;
        updateControls();
        syncAllWrittenVisibility();
      });

      resetBtn.addEventListener("click", resetAll);

      // Render inicial
      render();
    })();
  </script>
</body>
</html>
</div>


          

          




          




          
          <!-- END EDITABLE -->
        </section>
      </section>

      <nav class="page-nav page-nav--bottom" aria-label="Week navigation (bottom)">
        <a class="nav-link" href="../index.html">← Back to weeks</a>

        <div class="nav-group" aria-label="Previous and next week (bottom)">
          <span class="nav-link is-disabled" aria-disabled="true">← Prev</span>
          <a class="nav-link" href="./week2.html">Next →</a>
        </div>
      </nav>
    </main>

    <footer class="footer" role="contentinfo">
      <p>
        Sitio construido por Andrés Correal. Esta página se construyó con la ayuda de los materiales de
        Grant Armstrong, Martiniano Etchart y Kiley Specht.
      </p>
    </footer>

    <!-- Optional (future): add week-specific JS here. Create /week.js (empty is fine) to avoid 404. -->
    <script src="../week.js?v=3" defer></script>
  </body>
</html>








