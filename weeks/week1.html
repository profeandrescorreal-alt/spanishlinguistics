<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>SPA 225 — Week 1 (Discussions)</title>
    <meta name="description" content="SPA 225 Discussions — Week 1" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />

    <!-- Cache-busting for GitHub Pages -->
    <link rel="stylesheet" href="../style.css?v=3" />
  </head>

  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header class="hero" role="banner">
      <div class="hero__inner">
        <h1 class="hero__title">SPA 225: Lying, swearing and breaking the rules</h1>
        <p class="hero__subtitle">Discussions</p>
      </div>
    </header>

    <main id="main" class="main" role="main">
      <nav class="page-nav" aria-label="Week navigation">
        <a class="nav-link" href="../index.html">← Back to weeks</a>

        <div class="nav-group" aria-label="Previous and next week">
          <span class="nav-link is-disabled" aria-disabled="true">← Prev</span>
          <a class="nav-link" href="./week2.html">Next →</a>
        </div>
      </nav>

      <header class="week-header">
        <h2 class="week-title">Week 1</h2>
        <!-- Optional: add dates here later -->
      </header>

      <!-- SLIDES -->
      <section class="card" aria-labelledby="slides-title">
        <h3 id="slides-title" class="section-title">Slides and study material</h3>

        <div class="slides-embed" id="slides-week1" aria-label="Slides and materials container (Week 1)">
          <!-- START EDITABLE: SLIDES/STUDY MATERIAL -->
          <!-- Paste OneDrive embed iframe(s) and study content below -->
          <!-- NOTE (invisible to students):
               - Keep iframe width="100%" for responsive layout.
               - Use a meaningful iframe title for accessibility.
               - For external links, prefer: target="_blank" rel="noopener noreferrer".
          -->

          <!-- OneDrive placeholder: pega aquí tu link de embed -->
          <!--
          <iframe
            title="Week 1 slides (OneDrive)"
            src=""
            width="100%"
            height="520"
            frameborder="0"
            allowfullscreen
          ></iframe>
          -->

          <!-- END EDITABLE -->
        </div>
      </section>

      <!-- GAMES -->
      <section class="card" aria-labelledby="games-title">
        <h3 id="games-title" class="section-title">Games</h3>

        <section class="game-embed" id="game-week1" aria-label="Game embed area (Week 1)">
          <!-- START EDITABLE: GAMES -->
          <!-- Paste a full game block here (HTML + optional <style> + optional <script>) -->

          <!-- NOTE (invisible to students):
               - If your game includes CSS, namespace it inside #game-week1 or .game-embed
                 (example: #game-week1 .my-class { ... } ).
               - If your game includes JS, wrap it in an IIFE:
                 (() => { /* your game code */ })();
               - Avoid touching global styles (body, html) inside your game.
          -->











<!-- ALERTA / CALLOUT para el inicio de la sección de juegos -->
<section id="gamesCallout" aria-label="Atención — cómo usar estos juegos">
  <div class="gc-shell" role="note">
    <div class="gc-icon" aria-hidden="true">⚡</div>

    <div class="gc-content">
      <h3 class="gc-title">Atención: estos juegos son para repasar (después de las lecturas)</h3>
      <p class="gc-text">
        La mayoría de estos juegos están diseñados para que los completes <strong>después</strong> de hacer las lecturas y (cuando aplique) después de participar en las discusiones.
        Úsalos como una forma de <strong>repasar</strong> y verificar tu comprensión—no como un atajo para “no pensar”.
      </p>

      <ul class="gc-list">
        <li><strong>Primero:</strong> intenta responder por tu cuenta (con tus notas / lecturas).</li>
        <li><strong>Después:</strong> usa los juegos para confirmar, corregir y completar ideas.</li>
        <li><strong>Si faltas a una discusión:</strong> estos juegos te ayudan a ponerte al día, pero requieren un esfuerzo real de tu parte.</li>
      </ul>

      <div class="gc-footer">
        <span class="gc-tag">Meta: practicar + consolidar</span>
        <span class="gc-tag">No: copiar sin pensar</span>
      </div>
    </div>
  </div>

  <style>
    /* Estilo SOLO para el callout (no afecta la página entera) */
    #gamesCallout{
      --gc-bg1: rgba(255,255,255,.95);
      --gc-bg2: rgba(246,247,251,.95);
      --gc-stroke: rgba(229,231,235,1);
      --gc-text: #111827;
      --gc-muted: #374151;

      --gc-accent: #2563eb;
      --gc-accent2: #14b8a6;
      --gc-warm: #f59e0b;

      --gc-shadow: 0 18px 55px rgba(0,0,0,.45);
      --gc-shadow2: 0 10px 22px rgba(17,24,39,.12);

      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--gc-text);
      padding: 6px 0 16px;
    }

    #gamesCallout *{ box-sizing:border-box; }

    #gamesCallout .gc-shell{
      max-width: 1040px;
      margin: 0 auto;
      display:flex;
      gap:14px;
      align-items:flex-start;
      padding: 14px;
      border-radius: 22px;
      background:
        radial-gradient(900px 220px at 12% 0%, rgba(37,99,235,.18), transparent 60%),
        radial-gradient(700px 220px at 88% 10%, rgba(20,184,166,.16), transparent 55%),
        linear-gradient(180deg, var(--gc-bg1), var(--gc-bg2));
      border: 1px solid rgba(255,255,255,.25);
      box-shadow: var(--gc-shadow);
      position: relative;
      overflow: hidden;
    }

    /* Línea superior tipo “highlight” */
    #gamesCallout .gc-shell::before{
      content:"";
      position:absolute;
      top:0; left:0; right:0;
      height: 6px;
      background: linear-gradient(90deg, var(--gc-accent), var(--gc-accent2), var(--gc-warm));
      opacity: .95;
    }

    #gamesCallout .gc-icon{
      width: 46px;
      height: 46px;
      border-radius: 16px;
      display:grid;
      place-items:center;
      font-size: 22px;
      background: rgba(245,158,11,.14);
      border: 1px solid rgba(245,158,11,.22);
      box-shadow: var(--gc-shadow2);
      flex: 0 0 auto;
      margin-top: 2px;
    }

    #gamesCallout .gc-title{
      margin: 0;
      font-weight: 950;
      letter-spacing: .2px;
      font-size: clamp(1.05rem, 2vw, 1.35rem);
    }

    #gamesCallout .gc-text{
      margin: 8px 0 0;
      color: var(--gc-muted);
      line-height: 1.55;
      max-width: 95ch;
    }

    #gamesCallout .gc-list{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--gc-text);
      line-height: 1.5;
    }
    #gamesCallout .gc-list li{
      margin: 6px 0;
    }

    #gamesCallout .gc-footer{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top: 12px;
    }

    #gamesCallout .gc-tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 7px 10px;
      border-radius: 999px;
      background: #fff;
      border: 1px solid var(--gc-stroke);
      color: var(--gc-text);
      font-weight: 900;
      box-shadow: 0 10px 18px rgba(17,24,39,.08);
      font-size: .95rem;
      white-space: nowrap;
    }

    @media (max-width: 520px){
      #gamesCallout .gc-shell{
        padding: 12px;
      }
      #gamesCallout .gc-icon{
        width: 42px;
        height: 42px;
        border-radius: 14px;
      }
    }
  </style>
</section>

























          





          
<div class="wrap" id="vfGame">
<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Juego 1 — Verdadero/Falso</title>
  <style>
    /* ========= SOLO EL JUEGO ========= */
    #vfGame{
      --bg: #f5f7fb;
      --panel: #ffffff;
      --panel2:#f9fafb;

      --text: #111827;
      --muted:#4b5563;

      --border:#e5e7eb;
      --shadow: 0 10px 28px rgba(17,24,39,.08);

      --focus:#2563eb;
      --accent:#2563eb;

      --goodBg: rgba(22,163,74,.10);
      --goodBd: rgba(22,163,74,.32);
      --goodTx: #065f46;

      --badBg: rgba(220,38,38,.08);
      --badBd: rgba(220,38,38,.28);
      --badTx: #7f1d1d;

      --warnBg: rgba(217,119,6,.10);
      --warnBd: rgba(217,119,6,.30);
      --warnTx: #7c2d12;

      --radius: 18px;

      background:
        radial-gradient(900px 520px at 15% 10%, rgba(37,99,235,.10), transparent 60%),
        radial-gradient(900px 520px at 85% 20%, rgba(22,163,74,.08), transparent 60%),
        var(--bg);
      color: var(--text);

      padding: 18px 14px 90px; /* espacio para footer sticky */
      border-radius: 22px;
      border: 1px solid rgba(17,24,39,.08);
    }

    #vfGame *{ box-sizing:border-box; }
    #vfGame{ font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }

    #vfGame .container{
      max-width: 980px;
      margin: 0 auto;
      padding: 10px 4px 0;
    }

    #vfGame header{
      display:flex;
      gap:14px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
      margin: 8px 0 14px;
    }

    #vfGame h1{
      margin:0;
      font-size: clamp(1.25rem, 2.4vw, 1.75rem);
      letter-spacing:.2px;
      line-height:1.15;
    }

    #vfGame .subtitle{
      margin:8px 0 0;
      color: var(--muted);
      font-size: 1rem;
      max-width: 78ch;
      line-height:1.5;
    }

    #vfGame .topRight{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
    }

    #vfGame .chip{
      background: rgba(255,255,255,.70);
      border: 1px solid var(--border);
      padding: 8px 12px;
      border-radius: 999px;
      color: var(--muted);
      font-size: .95rem;
      box-shadow: 0 8px 18px rgba(17,24,39,.05);
      white-space:nowrap;
    }
    #vfGame .chip strong{ color: var(--text); }

    #vfGame .progressWrap{
      width: 220px;
      max-width: 70vw;
      display:grid;
      gap:6px;
    }
    #vfGame .bar{
      height: 10px;
      background: rgba(17,24,39,.08);
      border-radius: 999px;
      overflow:hidden;
      border: 1px solid rgba(17,24,39,.06);
    }
    #vfGame .bar > div{
      height: 100%;
      width: 0%;
      background: rgba(37,99,235,.65);
      border-radius: 999px;
      transition: width .25s ease;
    }
    #vfGame .barLabel{
      font-size:.92rem;
      color: var(--muted);
      display:flex;
      justify-content:space-between;
      gap:10px;
    }

    #vfGame .grid{
      display:grid;
      gap: 14px;
    }

    /* Tarjeta por ítem */
    #vfGame .qcard{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    #vfGame .qinner{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
      padding: 16px;
    }

    @media (min-width: 860px){
      #vfGame .qinner{
        grid-template-columns: 1.4fr .9fr;
        align-items:start;
      }
    }

    #vfGame .qleft{
      display:grid;
      gap:10px;
      min-width: 0;
    }

    #vfGame .qhead{
      display:flex;
      gap:12px;
      align-items:flex-start;
    }

    #vfGame .qnum{
      width: 36px;
      height: 36px;
      border-radius: 999px;
      display:grid;
      place-items:center;
      font-weight: 800;
      color: #0b1220;
      background: rgba(37,99,235,.14);
      border: 1px solid rgba(37,99,235,.22);
      flex: 0 0 auto;
    }

    #vfGame .qtext{
      font-weight: 750;
      font-size: 1.06rem;
      line-height: 1.45;
      max-width: 78ch;
    }

    #vfGame .qmeta{
      color: var(--muted);
      font-size:.95rem;
    }

    /* Control segmentado */
    #vfGame .seg{
      background: var(--panel2);
      border: 1px solid var(--border);
      border-radius: 999px;
      display:flex;
      overflow:hidden;
      width: 100%;
      max-width: 420px;
    }

    #vfGame .segBtn{
      flex: 1 1 50%;
      border: 0;
      background: transparent;
      padding: 12px 12px;
      cursor:pointer;
      font-weight: 800;
      color: var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      transition: background .15s ease, transform .06s ease;
      min-height: 44px;
    }
    #vfGame .segBtn:hover{ background: rgba(17,24,39,.04); }
    #vfGame .segBtn:active{ transform: translateY(1px); }

    #vfGame .segBtn[aria-pressed="true"]{
      background: rgba(37,99,235,.12);
      outline: 2px solid rgba(37,99,235,.22);
      outline-offset: -2px;
    }
    #vfGame .segBtn:focus{
      outline: 3px solid rgba(37,99,235,.22);
      outline-offset: 2px;
    }

    /* Justificación */
    #vfGame .justify{
      display:grid;
      gap:6px;
      max-width: 78ch;
    }
    #vfGame .justify label{
      color: var(--muted);
      font-size:.95rem;
    }
    #vfGame textarea{
      width:100%;
      min-height: 92px;
      resize: vertical;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: #ffffff;
      color: var(--text);
      outline: none;
    }
    #vfGame textarea:focus{
      outline: 3px solid rgba(37,99,235,.22);
      outline-offset: 2px;
    }
    #vfGame .counterRow{
      display:flex;
      justify-content:space-between;
      gap:10px;
      color: var(--muted);
      font-size:.9rem;
    }
    #vfGame .inlineMsg{
      color: #991b1b;
      font-size:.92rem;
      margin-top: 2px;
    }

    /* Panel derecho (acciones por ítem) */
    #vfGame .qright{
      display:grid;
      gap:10px;
      align-content:start;
    }

    #vfGame .miniCard{
      background: var(--panel2);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px;
      display:grid;
      gap:10px;
    }

    #vfGame .miniTitle{
      font-weight: 800;
      color: var(--text);
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
    }

    #vfGame .miniHint{
      color: var(--muted);
      font-size:.95rem;
      margin:0;
    }

    /* Feedback */
    #vfGame .feedback{
      border-top: 1px solid var(--border);
      background: #ffffff;
      padding: 14px 16px 16px;
      display:grid;
      gap:10px;
    }

    #vfGame .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-weight: 900;
      width: fit-content;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: #ffffff;
    }
    #vfGame .badge.good{ background: var(--goodBg); border-color: var(--goodBd); color: var(--goodTx); }
    #vfGame .badge.bad{  background: var(--badBg);  border-color: var(--badBd);  color: var(--badTx); }
    #vfGame .badge.warn{ background: var(--warnBg); border-color: var(--warnBd); color: var(--warnTx); }

    #vfGame .answerLine{
      font-weight: 850;
      margin: 0;
    }

    #vfGame .explain{
      color: var(--text);
      line-height: 1.55;
      margin: 0;
      max-width: 78ch;
    }

    #vfGame .yourBox{
      border: 1px dashed rgba(17,24,39,.20);
      background: rgba(17,24,39,.02);
      border-radius: 14px;
      padding: 10px 12px;
      display:grid;
      gap:8px;
      max-width: 78ch;
    }
    #vfGame .yourText{
      color: var(--muted);
      margin:0;
      white-space: pre-wrap;
    }

    /* Footer sticky del juego */
    #vfGame .stickyFooter{
      position: sticky;
      bottom: 10px;
      margin-top: 16px;
      z-index: 5;
    }
    #vfGame .footerCard{
      background: rgba(255,255,255,.85);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: 0 16px 40px rgba(17,24,39,.12);
      padding: 12px 12px;
      display:flex;
      gap:10px;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
    }

    #vfGame .footerLeft{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      color: var(--muted);
      font-size:.95rem;
    }

    #vfGame .btns{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }

    #vfGame button{ font: inherit; }

    #vfGame .btn{
      border: 1px solid var(--border);
      background: #ffffff;
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
      transition: background .15s ease, transform .06s ease;
      min-height: 42px;
      font-weight: 800;
    }
    #vfGame .btn:hover{ background: rgba(17,24,39,.04); }
    #vfGame .btn:active{ transform: translateY(1px); }
    #vfGame .btn:disabled{ opacity:.55; cursor:not-allowed; }

    #vfGame .btn.primary{
      border-color: rgba(37,99,235,.35);
      background: rgba(37,99,235,.10);
    }
    #vfGame .btn.primary:hover{ background: rgba(37,99,235,.14); }

    #vfGame .btn.danger{
      border-color: rgba(220,38,38,.30);
      background: rgba(220,38,38,.08);
    }
    #vfGame .btn.danger:hover{ background: rgba(220,38,38,.12); }

    #vfGame .msg{
      color: var(--muted);
      font-size: .95rem;
    }
    #vfGame .msg.error{
      color: #991b1b;
      font-weight: 700;
    }

    #vfGame .sr-only{
      position:absolute;
      width:1px;
      height:1px;
      padding:0;
      margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      border:0;
    }
  </style>
</head>

<body>
  <div id="vfGame">
    <div class="container">
      <header>
        <div>
          <h1>Juego 1 — Verdadero / Falso</h1>
          <p class="subtitle">
            Lee cada enunciado y elige <strong>CIERTO</strong> o <strong>FALSO</strong>.
            Si eliges <strong>FALSO</strong>, escribe tu explicación. Al final, presiona <strong>Comprobar</strong> para comparar tus respuestas con las correctas.
          </p>
        </div>

        <div class="topRight" aria-label="Progreso">
          <div class="progressWrap">
            <div class="bar" aria-hidden="true"><div id="barFill"></div></div>
            <div class="barLabel">
              <span>Completado</span>
              <span id="progressText">0/5</span>
            </div>
          </div>
          <div class="chip" id="scoreChip">Puntaje: <strong>—</strong></div>
        </div>
      </header>

      <main class="grid" id="game" aria-live="polite"></main>

      <div class="stickyFooter" aria-label="Controles">
        <div class="footerCard">
          <div class="footerLeft">
            <span id="globalMsg" class="msg" aria-live="polite"></span>
          </div>

          <div class="btns">
            <button class="btn" id="toggleResponsesBtn" type="button" disabled>Mostrar mis respuestas escritas</button>
            <button class="btn primary" id="checkAllBtn" type="button" disabled>Comprobar</button>
            <button class="btn danger" id="resetBtn" type="button">Reiniciar</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    (() => {
      const items = [
        {
          id: 1,
          statement: "La lingüística consiste principalmente en aprender a hablar y escribir “correctamente” una lengua y/o en aprender muchas lenguas.",
          correctAnswer: false,
          explanation: "FALSO. La lingüística no es “aprender a hablar/escribir correctamente” ni “aprender muchas lenguas”; es el estudio del lenguaje como fenómeno humano (cómo funciona, cómo se organiza, cómo cambia, cómo se usa)."
        },
        {
          id: 2,
          statement: "La lingüística es una ciencia que estudia distintos aspectos del lenguaje humano y, para investigarlos, puede analizar documentos históricos, grabar y analizar habla o diseñar experimentos.",
          correctAnswer: true,
          explanation: "CIERTO. Se plantea como una disciplina/ciencia que investiga el lenguaje con distintos métodos (análisis de datos, registros, observación, experimentos, etc.)."
        },
        {
          id: 3,
          statement: "Como el lenguaje siempre se basa en sonidos, las lenguas de señas no se pueden estudiar en lingüística.",
          correctAnswer: false,
          explanation: "FALSO. El lenguaje no depende de “sonidos” necesariamente: las lenguas de señas también tienen estructura y pueden estudiarse lingüísticamente."
        },
        {
          id: 4,
          statement: "“Lenguaje” (capacidad humana general) no es lo mismo que “lengua/idioma” (una manifestación concreta como español), aunque en inglés ambos suelen llamarse language.",
          correctAnswer: true,
          explanation: "CIERTO. “Lenguaje” es la capacidad general; “lengua/idioma” es un sistema particular (español, inglés, etc.), y en inglés ambos se expresan con language, lo que puede confundir."
        },
        {
          id: 5,
          statement: "Las “reglas” que importan en lingüística son sobre todo prescriptivas (las de manuales), y lo que la gente dice naturalmente no es parte del análisis.",
          correctAnswer: false,
          explanation: "FALSO. La lingüística describe y analiza las reglas/patrones del uso real; no se limita a reglas prescriptivas de manual."
        }
      ];

      const maxJustification = 700;

      const state = items.map(it => ({
        id: it.id,
        selected: null,       // true | false
        justification: ""
      }));

      let checkedAll = false;
      let showWritten = false;

      const gameEl = document.getElementById("game");
      const barFill = document.getElementById("barFill");
      const progressText = document.getElementById("progressText");
      const scoreChip = document.getElementById("scoreChip");
      const toggleResponsesBtn = document.getElementById("toggleResponsesBtn");
      const checkAllBtn = document.getElementById("checkAllBtn");
      const resetBtn = document.getElementById("resetBtn");
      const globalMsg = document.getElementById("globalMsg");

      function makeEl(tag, attrs = {}, children = []) {
        const el = document.createElement(tag);
        for (const [k, v] of Object.entries(attrs)) {
          if (k === "class") el.className = v;
          else if (k === "text") el.textContent = v;
          else if (k === "html") el.innerHTML = v;
          else if (k.startsWith("aria-")) el.setAttribute(k, v);
          else el.setAttribute(k, v);
        }
        for (const child of children) el.appendChild(child);
        return el;
      }

      function isValidItem(s) {
        if (s.selected === null) return false;
        if (s.selected === false && s.justification.trim().length === 0) return false;
        return true;
      }

      function completedCount() {
        return state.reduce((acc, s) => acc + (isValidItem(s) ? 1 : 0), 0);
      }

      function allAnsweredAndValid() {
        return completedCount() === items.length;
      }

      function countCorrect() {
        let correct = 0;
        for (const s of state) {
          const item = items.find(i => i.id === s.id);
          if (s.selected === item.correctAnswer) correct++;
        }
        return correct;
      }

      function anyWritten() {
        return state.some(s => s.selected === false && s.justification.trim().length > 0);
      }

      function updateTop() {
        const done = completedCount();
        progressText.textContent = `${done}/${items.length}`;
        barFill.style.width = `${Math.round((done / items.length) * 100)}%`;

        if (!checkedAll) {
          scoreChip.innerHTML = `Puntaje: <strong>—</strong>`;
        } else {
          scoreChip.innerHTML = `Puntaje: <strong>${countCorrect()}/${items.length}</strong>`;
        }

        checkAllBtn.disabled = checkedAll || !allAnsweredAndValid();
        toggleResponsesBtn.disabled = !checkedAll || !anyWritten();
        toggleResponsesBtn.textContent = showWritten ? "Ocultar mis respuestas escritas" : "Mostrar mis respuestas escritas";
      }

      function render() {
        gameEl.innerHTML = "";

        items.forEach((item, idx) => {
          const s = state[idx];

          const qcard = makeEl("section", { class: "qcard", "aria-label": `Ítem ${item.id}` });

          const qinner = makeEl("div", { class: "qinner" });

          // LEFT
          const qleft = makeEl("div", { class: "qleft" });

          const qhead = makeEl("div", { class: "qhead" });
          qhead.appendChild(makeEl("div", { class: "qnum", text: String(item.id) }));
          qhead.appendChild(makeEl("div", { class: "qtext", text: item.statement }));
          qleft.appendChild(qhead);

          const qmeta = makeEl("div", { class: "qmeta" });
          qmeta.textContent = "Elige una opción. Si eliges FALSO, escribe una explicación.";
          qleft.appendChild(qmeta);

          // Justification (only if false)
          if (s.selected === false) {
            const justify = makeEl("div", { class: "justify" });
            justify.appendChild(makeEl("label", { for: `ta_${item.id}`, text: "Explica brevemente por qué es falso (1–2 oraciones)." }));

            const ta = makeEl("textarea", {
              id: `ta_${item.id}`,
              maxlength: String(maxJustification),
              placeholder: "Escribe tu explicación aquí…"
            });
            ta.value = s.justification;
            if (checkedAll) ta.disabled = true;

            ta.addEventListener("input", () => {
              s.justification = ta.value;
              const msg = document.getElementById(`msg_${item.id}`);
              if (msg && s.justification.trim().length > 0) msg.textContent = "";
              updateTop();
            });

            justify.appendChild(ta);

            const counterRow = makeEl("div", { class: "counterRow" });
            const left = makeEl("span", { text: "" });
            const right = makeEl("span", { id: `count_${item.id}`, text: `${(s.justification || "").length}/${maxJustification}` });
            counterRow.appendChild(left);
            counterRow.appendChild(right);

            ta.addEventListener("input", () => {
              right.textContent = `${ta.value.length}/${maxJustification}`;
            });

            justify.appendChild(counterRow);

            const inline = makeEl("div", { class: "inlineMsg", id: `msg_${item.id}` });
            if (!checkedAll && s.justification.trim().length === 0) {
              inline.textContent = "Escribe una explicación para poder comprobar al final.";
            }
            justify.appendChild(inline);

            qleft.appendChild(justify);
          }

          // RIGHT
          const qright = makeEl("div", { class: "qright" });

          const mini = makeEl("div", { class: "miniCard" });
          const miniTitle = makeEl("div", { class: "miniTitle" });
          miniTitle.appendChild(makeEl("span", { text: "Tu respuesta" }));
          miniTitle.appendChild(makeEl("span", { text: s.selected === null ? "—" : (s.selected ? "CIERTO" : "FALSO") }));
          mini.appendChild(miniTitle);

          const seg = makeEl("div", { class: "seg", role: "group", "aria-label": `Elegir Cierto o Falso para ítem ${item.id}` });

          const btnTrue = makeEl("button", {
            class: "segBtn",
            type: "button",
            "aria-pressed": (s.selected === true) ? "true" : "false"
          });
          btnTrue.textContent = "CIERTO";

          const btnFalse = makeEl("button", {
            class: "segBtn",
            type: "button",
            "aria-pressed": (s.selected === false) ? "true" : "false"
          });
          btnFalse.textContent = "FALSO";

          function setChoice(val) {
            if (checkedAll) return;
            s.selected = val;

            // si cambia a cierto, mantener texto guardado (por si vuelve a falso),
            // pero ocultar textarea hasta que elija falso de nuevo (render)
            globalMsg.textContent = "";
            globalMsg.classList.remove("error");

            render();
            updateTop();

            if (val === false) {
              const ta = document.getElementById(`ta_${item.id}`);
              if (ta) ta.focus();
            }
          }

          btnTrue.addEventListener("click", () => setChoice(true));
          btnFalse.addEventListener("click", () => setChoice(false));

          if (checkedAll) {
            btnTrue.disabled = true;
            btnFalse.disabled = true;
          }

          seg.appendChild(btnTrue);
          seg.appendChild(btnFalse);

          mini.appendChild(seg);

          const hint = makeEl("p", { class: "miniHint" });
          hint.textContent = "Podrás comprobar al final cuando completes todos los ítems.";
          mini.appendChild(hint);

          qright.appendChild(mini);

          qinner.appendChild(qleft);
          qinner.appendChild(qright);
          qcard.appendChild(qinner);

          // Feedback after checkAll
          if (checkedAll) {
            qcard.appendChild(renderFeedback(item, s));
          }

          gameEl.appendChild(qcard);
        });

        syncAllWrittenVisibility();
        updateTop();
      }

      function renderFeedback(item, s) {
        const correct = (s.selected === item.correctAnswer);

        const fb = makeEl("div", { class: "feedback" });

        const badge = makeEl("div", { class: `badge ${correct ? "good" : "bad"}` });
        badge.textContent = correct ? "✅ Correcto" : "❌ Incorrecto";
        fb.appendChild(badge);

        const ans = makeEl("p", { class: "answerLine" });
        ans.textContent = `Respuesta correcta: ${item.correctAnswer ? "CIERTO" : "FALSO"}.`;
        fb.appendChild(ans);

        const exp = makeEl("p", { class: "explain" });
        exp.textContent = item.explanation;
        fb.appendChild(exp);

        if (s.selected === false) {
          const yourBox = makeEl("div", { class: "yourBox", id: `your_${item.id}` });

          const yourBadge = makeEl("div", { class: "badge warn" });
          yourBadge.textContent = "✍️ Tu explicación";

          const yourText = makeEl("p", { class: "yourText", id: `yourText_${item.id}` });
          yourText.textContent = s.justification.trim().length ? s.justification.trim() : "(Sin texto)";

          yourBox.appendChild(yourBadge);
          yourBox.appendChild(yourText);

          fb.appendChild(yourBox);
        }

        return fb;
      }

      function syncWrittenVisibility(itemId) {
        const yourBox = document.getElementById(`your_${itemId}`);
        if (!yourBox) return;
        yourBox.style.display = showWritten ? "" : "none";
      }

      function syncAllWrittenVisibility() {
        state.forEach(s => syncWrittenVisibility(s.id));
      }

      function checkAll() {
        // Validación final
        if (!allAnsweredAndValid()) {
          globalMsg.textContent = "Antes de comprobar: responde todos los ítems y escribe explicación en los que marcaste FALSO.";
          globalMsg.classList.add("error");

          // marcar mensajes inline
          state.forEach(s => {
            if (s.selected === false && s.justification.trim().length === 0) {
              const msg = document.getElementById(`msg_${s.id}`);
              if (msg) msg.textContent = "Escribe una explicación para este ítem.";
            }
          });

          // focus primer problema
          const first = state.find(s => !isValidItem(s));
          if (first) {
            if (first.selected === null) {
              // focus botón cierto del ítem
              const card = gameEl.querySelector(`[aria-label="Ítem ${first.id}"]`);
              const btn = card ? card.querySelector(".segBtn") : null;
              if (btn) btn.focus();
            } else {
              const ta = document.getElementById(`ta_${first.id}`);
              if (ta) ta.focus();
            }
          }
          return;
        }

        checkedAll = true;
        showWritten = false;

        globalMsg.textContent = "Listo: ahora puedes comparar tus respuestas con las correctas.";
        globalMsg.classList.remove("error");

        render();
        updateTop();
      }

      function resetAll() {
        checkedAll = false;
        showWritten = false;
        globalMsg.textContent = "";
        globalMsg.classList.remove("error");

        state.forEach(s => {
          s.selected = null;
          s.justification = "";
        });

        render();
      }

      checkAllBtn.addEventListener("click", checkAll);

      toggleResponsesBtn.addEventListener("click", () => {
        showWritten = !showWritten;
        updateTop();
        syncAllWrittenVisibility();
      });

      resetBtn.addEventListener("click", resetAll);

      render();
    })();
  </script>
</body>
</html>
</div>




          <!-- =========================
     JUEGO 2 (MATCHING) — EMBED
     Contenedor propio: #mg2
     ========================= -->
<section id="mg2" aria-label="Juego 2 — Emparejar conceptos">
  <div class="mg2-shell">
    <header class="mg2-head">
      <div>
        <h2 class="mg2-title">Juego 2 — Conecta cada término con su definición</h2>
        <p class="mg2-sub">
          Arrastra una definición hacia un término <strong>o</strong> haz clic en una definición y luego en un término.
          Cuando termines, presiona <strong>Enviar y comprobar</strong>.
        </p>
      </div>
      <div class="mg2-chip" id="mg2Chip">Progreso: <strong>0/3</strong></div>
    </header>

    <div class="mg2-board">
      <!-- TERMS -->
      <div class="mg2-col">
        <div class="mg2-colTitle">Términos</div>

        <div class="mg2-slot" data-term="lenguaje" tabindex="0" role="button" aria-label="Término: Lenguaje (asignar definición)">
          <div class="mg2-slotTop">
            <span class="mg2-term">Lenguaje</span>
            <span class="mg2-slotHint">Suelta aquí</span>
          </div>
          <div class="mg2-assigned" id="mg2Assigned-lenguaje"></div>
        </div>

        <div class="mg2-slot" data-term="lengua_idioma" tabindex="0" role="button" aria-label="Término: lengua/idioma (asignar definición)">
          <div class="mg2-slotTop">
            <span class="mg2-term">lengua/idioma</span>
            <span class="mg2-slotHint">Suelta aquí</span>
          </div>
          <div class="mg2-assigned" id="mg2Assigned-lengua_idioma"></div>
        </div>

        <div class="mg2-slot" data-term="dialecto" tabindex="0" role="button" aria-label="Término: dialecto (asignar definición)">
          <div class="mg2-slotTop">
            <span class="mg2-term">dialecto</span>
            <span class="mg2-slotHint">Suelta aquí</span>
          </div>
          <div class="mg2-assigned" id="mg2Assigned-dialecto"></div>
        </div>
      </div>

      <!-- DEFINITIONS -->
      <div class="mg2-col">
        <div class="mg2-colTitle">Definiciones</div>

        <div class="mg2-pool" id="mg2Pool" aria-label="Definiciones disponibles">
          <!-- Def 1 -->
          <div class="mg2-card" draggable="true" data-def="1" tabindex="0" role="button" aria-label="Definición 1">
            <div class="mg2-cardNum">1</div>
            <div class="mg2-cardText">Sistema lingüístico derivado de otro, normalmente con una limitación geográfica concreta, pero sin diferenciación suficiente frente a otros de origen común</div>
          </div>

          <!-- Def 2 -->
          <div class="mg2-card" draggable="true" data-def="2" tabindex="0" role="button" aria-label="Definición 2">
            <div class="mg2-cardNum">2</div>
            <div class="mg2-cardText">Sistema de comunicación verbal propio de una comunidad humana, pueblo o nación</div>
          </div>

          <!-- Def 3 -->
          <div class="mg2-card" draggable="true" data-def="3" tabindex="0" role="button" aria-label="Definición 3">
            <div class="mg2-cardNum">3</div>
            <div class="mg2-cardText">Conjunto de señales generales que dan a entender algo y que sirven para comunicarse</div>
          </div>
        </div>

        <p class="mg2-tip">Tip: cada definición solo puede usarse una vez.</p>
      </div>
    </div>

    <footer class="mg2-footer">
      <div class="mg2-msg" id="mg2Msg" aria-live="polite"></div>
      <div class="mg2-actions">
        <button class="mg2-btn mg2-btnGhost" id="mg2Reset" type="button">Reiniciar</button>
        <button class="mg2-btn mg2-btnPrimary" id="mg2Check" type="button" disabled>Enviar y comprobar</button>
      </div>
    </footer>
  </div>

  <style>
  /* =========================
   ESTILO SOLO PARA #mg2
   (TEMA CLARO sobre fondo oscuro)
   ========================= */
#mg2{
  --bg: transparent;

  --panel: rgba(255,255,255,.96);
  --panel2: #f6f7fb;
  --stroke: #e5e7eb;

  --text: #111827;
  --muted: #4b5563;

  --accent: #2563eb;
  --accent2: #14b8a6;

  --shadow: 0 18px 55px rgba(0,0,0,.45);
  --shadow2: 0 10px 24px rgba(17,24,39,.14);

  --goodBg: rgba(20,184,166,.12);
  --goodBd: rgba(20,184,166,.38);
  --goodTx: #0f766e;

  --badBg: rgba(239,68,68,.10);
  --badBd: rgba(239,68,68,.30);
  --badTx: #991b1b;

  --warnBg: rgba(245,158,11,.14);
  --warnBd: rgba(245,158,11,.35);
  --warnTx: #92400e;

  --radius: 18px;

  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  padding: 10px 0 0;
}

#mg2 *{ box-sizing:border-box; }

#mg2 .mg2-shell{
  max-width: 980px;
  margin: 0 auto;
  padding: 16px;
  border-radius: 22px;
  background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,255,255,.94));
  border: 1px solid rgba(255,255,255,.28);
  box-shadow: var(--shadow);
}

#mg2 .mg2-head{
  display:flex;
  gap:14px;
  align-items:flex-start;
  justify-content:space-between;
  flex-wrap:wrap;
  margin-bottom: 14px;
}

#mg2 .mg2-title{
  margin:0;
  font-size: clamp(1.15rem, 2.1vw, 1.45rem);
  letter-spacing:.2px;
  color: var(--text);
}

#mg2 .mg2-sub{
  margin:8px 0 0;
  color: var(--muted);
  max-width: 80ch;
  line-height:1.5;
}

#mg2 .mg2-chip{
  background: #ffffff;
  border: 1px solid var(--stroke);
  padding: 8px 12px;
  border-radius: 999px;
  color: var(--muted);
  font-size: .95rem;
  white-space:nowrap;
  box-shadow: 0 10px 18px rgba(17,24,39,.08);
}
#mg2 .mg2-chip strong{ color: var(--text); }

#mg2 .mg2-board{
  display:grid;
  gap:14px;
  grid-template-columns: 1fr;
}
@media (min-width: 860px){
  #mg2 .mg2-board{
    grid-template-columns: 1fr 1fr;
    align-items:start;
  }
}

#mg2 .mg2-col{
  background: #ffffff;
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  padding: 12px;
  box-shadow: var(--shadow2);
}

#mg2 .mg2-colTitle{
  font-weight: 900;
  letter-spacing:.2px;
  margin: 2px 0 10px;
  color: var(--text);
}

/* Slots (términos) */
#mg2 .mg2-slot{
  border-radius: 16px;
  padding: 12px;
  border: 2px dashed rgba(37,99,235,.22);
  background: var(--panel2);
  display:grid;
  gap:10px;
  margin-bottom: 10px;
  outline: none;
  cursor: pointer;
  transition: transform .08s ease, border-color .15s ease, background .15s ease;
}
#mg2 .mg2-slot:hover{
  background: #eef2ff;
  border-color: rgba(37,99,235,.45);
}
#mg2 .mg2-slot:focus{
  outline: 3px solid rgba(37,99,235,.20);
  outline-offset: 2px;
}

#mg2 .mg2-slotTop{
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:center;
}
#mg2 .mg2-term{
  font-weight: 950;
  font-size: 1.05rem;
  color: var(--text);
}
#mg2 .mg2-slotHint{
  color: var(--muted);
  font-size: .92rem;
}

#mg2 .mg2-assigned{
  min-height: 56px;
  display:grid;
  gap:10px;
}

/* Pool + tarjetas */
#mg2 .mg2-pool{
  display:grid;
  gap:10px;
}

#mg2 .mg2-card{
  display:grid;
  grid-template-columns: 38px 1fr;
  gap:10px;
  align-items:start;
  padding: 12px;
  border-radius: 16px;
  background: #ffffff;
  border: 1px solid var(--stroke);
  cursor: grab;
  user-select:none;
  transition: transform .08s ease, border-color .15s ease, box-shadow .15s ease;
  outline:none;
  box-shadow: 0 10px 18px rgba(17,24,39,.08);
}
#mg2 .mg2-card:hover{
  border-color: rgba(37,99,235,.35);
  box-shadow: 0 14px 26px rgba(17,24,39,.12);
}
#mg2 .mg2-card:active{ cursor: grabbing; transform: translateY(1px); }
#mg2 .mg2-card:focus{
  outline: 3px solid rgba(20,184,166,.20);
  outline-offset: 2px;
}

#mg2 .mg2-cardNum{
  width: 32px;
  height: 32px;
  border-radius: 12px;
  display:grid;
  place-items:center;
  font-weight: 950;
  color: #0b1220;
  background: rgba(37,99,235,.12);
  border: 1px solid rgba(37,99,235,.22);
}

#mg2 .mg2-cardText{
  color: #111827;
  line-height:1.45;
}

/* Estado seleccionado (clic) */
#mg2 .mg2-card.selected{
  outline: 3px solid rgba(37,99,235,.25);
  outline-offset: 2px;
  border-color: rgba(37,99,235,.55);
}

/* Tarjeta dentro del slot */
#mg2 .mg2-card.inSlot{
  cursor: default;
}

#mg2 .mg2-tip{
  margin: 10px 2px 0;
  color: var(--muted);
  font-size: .93rem;
}

/* Feedback */
#mg2 .mg2-slot.good{ border-color: var(--goodBd); background: var(--goodBg); }
#mg2 .mg2-slot.bad{  border-color: var(--badBd);  background: var(--badBg); }

#mg2 .mg2-answer{
  color: var(--muted);
  font-size: .92rem;
  margin-top: -6px;
}

/* Footer */
#mg2 .mg2-footer{
  margin-top: 14px;
  display:flex;
  gap:12px;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  padding-top: 10px;
  border-top: 1px solid var(--stroke);
}

#mg2 .mg2-msg{
  color: var(--muted);
  font-size: .95rem;
  min-height: 20px;
}
#mg2 .mg2-msg.error{
  color: var(--badTx);
  font-weight: 800;
}

#mg2 .mg2-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}

#mg2 .mg2-btn{
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 950;
  border: 1px solid var(--stroke);
  background: #ffffff;
  color: var(--text);
  cursor:pointer;
  transition: transform .06s ease, background .15s ease, border-color .15s ease;
  min-height: 42px;
  box-shadow: 0 10px 18px rgba(17,24,39,.08);
}
#mg2 .mg2-btn:hover{
  background: #f3f4f6;
  border-color: rgba(37,99,235,.28);
}
#mg2 .mg2-btn:active{ transform: translateY(1px); }
#mg2 .mg2-btn:disabled{ opacity:.55; cursor:not-allowed; }

#mg2 .mg2-btnPrimary{
  background: rgba(37,99,235,.12);
  border-color: rgba(37,99,235,.25);
}
#mg2 .mg2-btnPrimary:hover{
  background: rgba(37,99,235,.16);
}

#mg2 .mg2-btnGhost{
  background: #ffffff;
}

/* Drop highlight */
#mg2 .droptarget{
  border-color: rgba(37,99,235,.70) !important;
  background: rgba(37,99,235,.10) !important;
}

  </style>

  <script>
    (() => {
      // Correct mapping based on the Word list:
      // 1 = dialecto, 2 = lengua/idioma, 3 = lenguaje (señales) :contentReference[oaicite:1]{index=1}
      const correct = {
        lenguaje: "3",
        lengua_idioma: "2",
        dialecto: "1",
      };

      const root = document.getElementById("mg2");
      const pool = root.querySelector("#mg2Pool");
      const chip = root.querySelector("#mg2Chip");
      const msg = root.querySelector("#mg2Msg");
      const btnCheck = root.querySelector("#mg2Check");
      const btnReset = root.querySelector("#mg2Reset");

      const slots = Array.from(root.querySelectorAll(".mg2-slot"));
      let checked = false;

      // term -> defId
      const assigned = {
        lenguaje: null,
        lengua_idioma: null,
        dialecto: null,
      };

      // defId -> element reference (original)
      function getDefCard(defId){
        return root.querySelector(`.mg2-card[data-def="${defId}"]`);
      }

      function assignedCount(){
        return Object.values(assigned).filter(Boolean).length;
      }

      function updateChip(){
        chip.innerHTML = `Progreso: <strong>${assignedCount()}/3</strong>`;
        btnCheck.disabled = checked || assignedCount() !== 3;
      }

      function clearMsg(){
        msg.textContent = "";
        msg.classList.remove("error");
      }

      function setMsg(text, isError=false){
        msg.textContent = text;
        msg.classList.toggle("error", isError);
      }

      function renderAssignments(){
        // Clear all assigned containers
        slots.forEach(slot => {
          const term = slot.dataset.term;
          const holder = root.querySelector(`#mg2Assigned-${term}`);
          holder.innerHTML = "";

          const defId = assigned[term];
          if (defId){
            const original = getDefCard(defId);
            const clone = original.cloneNode(true);
            clone.classList.add("inSlot");
            clone.removeAttribute("draggable");
            clone.classList.remove("selected");
            clone.tabIndex = -1;

            // Add small "quitar" chip if not checked
            if (!checked){
              const removeBtn = document.createElement("button");
              removeBtn.type = "button";
              removeBtn.textContent = "Quitar";
              removeBtn.className = "mg2-btn mg2-btnGhost";
              removeBtn.style.padding = "6px 10px";
              removeBtn.style.borderRadius = "999px";
              removeBtn.style.justifySelf = "start";
              removeBtn.style.marginTop = "6px";
              removeBtn.addEventListener("click", (e) => {
                e.stopPropagation();
                unassignDef(term);
              });
              holder.appendChild(clone);
              holder.appendChild(removeBtn);
            } else {
              holder.appendChild(clone);
            }
          }
        });

        // Hide used defs in pool
        const used = new Set(Object.values(assigned).filter(Boolean));
        Array.from(pool.querySelectorAll(".mg2-card")).forEach(card => {
          const id = card.dataset.def;
          card.style.display = used.has(id) ? "none" : "";
          card.setAttribute("aria-disabled", used.has(id) ? "true" : "false");
        });

        updateChip();
      }

      function unassignDef(term){
        if (checked) return;
        assigned[term] = null;
        clearMsg();
        renderAssignments();
      }

      function assignDefToTerm(defId, term){
        if (checked) return;

        // If def already assigned somewhere else, unassign it first
        for (const t of Object.keys(assigned)){
          if (assigned[t] === defId) assigned[t] = null;
        }
        // If term already has another def, it will be overwritten
        assigned[term] = defId;

        clearMsg();
        renderAssignments();
      }

      // ----- Drag & Drop -----
      function enableDnD(){
        // dragstart on pool cards
        pool.addEventListener("dragstart", (e) => {
          if (checked) return;
          const card = e.target.closest(".mg2-card");
          if (!card) return;
          const defId = card.dataset.def;
          // don't allow dragging hidden/used defs
          if (card.style.display === "none") return;
          e.dataTransfer.setData("text/plain", defId);
          e.dataTransfer.effectAllowed = "move";
        });

        slots.forEach(slot => {
          slot.addEventListener("dragover", (e) => {
            if (checked) return;
            e.preventDefault();
            slot.classList.add("droptarget");
            e.dataTransfer.dropEffect = "move";
          });

          slot.addEventListener("dragleave", () => slot.classList.remove("droptarget"));

          slot.addEventListener("drop", (e) => {
            if (checked) return;
            e.preventDefault();
            slot.classList.remove("droptarget");
            const defId = e.dataTransfer.getData("text/plain");
            if (!defId) return;
            assignDefToTerm(defId, slot.dataset.term);
          });
        });
      }

      // ----- Click to assign (mobile-friendly) -----
      let selectedDef = null;

      function clearSelected(){
        selectedDef = null;
        Array.from(pool.querySelectorAll(".mg2-card")).forEach(c => c.classList.remove("selected"));
      }

      pool.addEventListener("click", (e) => {
        if (checked) return;
        const card = e.target.closest(".mg2-card");
        if (!card || card.style.display === "none") return;
        const defId = card.dataset.def;

        // toggle selection
        if (selectedDef === defId){
          clearSelected();
        } else {
          clearSelected();
          selectedDef = defId;
          card.classList.add("selected");
        }
      });

      slots.forEach(slot => {
        slot.addEventListener("click", () => {
          if (checked) return;
          if (!selectedDef){
            setMsg("Primero selecciona una definición (o arrástrala) y luego elige el término.", true);
            return;
          }
          assignDefToTerm(selectedDef, slot.dataset.term);
          clearSelected();
        });

        // keyboard: Enter/Space assigns if selectedDef
        slot.addEventListener("keydown", (e) => {
          if (checked) return;
          if (e.key === "Enter" || e.key === " "){
            e.preventDefault();
            slot.click();
          }
        });
      });

      // ----- Check / Reset -----
      function lockBoard(){
        checked = true;
        clearSelected();

        // Disable interactions visually
        Array.from(pool.querySelectorAll(".mg2-card")).forEach(card => {
          card.setAttribute("draggable", "false");
          card.style.cursor = "default";
        });
        slots.forEach(slot => slot.style.cursor = "default");
      }

      function showResults(){
        let score = 0;

        slots.forEach(slot => {
          const term = slot.dataset.term;
          const userDef = assigned[term];
          const ok = userDef === correct[term];
          slot.classList.remove("good","bad");
          slot.classList.add(ok ? "good" : "bad");
          if (ok) score++;

          // Show correct answer line (simple)
          const existing = slot.querySelector(".mg2-answer");
          if (existing) existing.remove();
          const line = document.createElement("div");
          line.className = "mg2-answer";
          line.textContent = `Correcta: definición ${correct[term]}.`;
          slot.appendChild(line);
        });

        setMsg(`Resultado: ${score}/3.`, false);
      }

      btnCheck.addEventListener("click", () => {
        if (checked) return;
        if (assignedCount() !== 3){
          setMsg("Asigna una definición a cada término antes de enviar.", true);
          return;
        }
        lockBoard();
        renderAssignments();
        showResults();
        updateChip();
      });

      btnReset.addEventListener("click", () => {
        checked = false;
        clearMsg();
        clearSelected();

        for (const k of Object.keys(assigned)) assigned[k] = null;
        slots.forEach(slot => {
          slot.classList.remove("good","bad","droptarget");
          const ans = slot.querySelector(".mg2-answer");
          if (ans) ans.remove();
          slot.style.cursor = "";
        });

        // Re-enable pool cards
        Array.from(pool.querySelectorAll(".mg2-card")).forEach(card => {
          card.setAttribute("draggable", "true");
          card.style.cursor = "grab";
          card.classList.remove("selected");
          card.style.display = "";
        });

        renderAssignments();
      });

      // Init
      enableDnD();
      renderAssignments();
      updateChip();
    })();
  </script>
</section>












          


<section id="catGame10" aria-label="Juego — Clasificar ejemplos por categoría">
  <div class="cg-shell">
    <header class="cg-head">
      <div>
        <h2 class="cg-title">Clasifica los ejemplos (1–10) por categoría</h2>
        <p class="cg-sub">
          Puedes <strong>arrastrar</strong> las fichas o <strong>escribir el número</strong> en la categoría.
          Cuando completes los 10, presiona <strong>Enviar y comprobar</strong>.
          <br />
          <span class="cg-muted">Los números siempre están en orden. Las palabras están desordenadas de forma fija.</span>
        </p>
      </div>
      <div class="cg-meta">
        <div class="cg-pill" id="cgProgress">Progreso: <strong>0/10</strong></div>
        <div class="cg-pill" id="cgScore">Puntaje: <strong>—</strong></div>
      </div>
    </header>

    <div class="cg-board">
      <!-- LEFT: Examples -->
      <div class="cg-panel">
        <div class="cg-panelTitle">Ejemplos (números en orden, palabras desordenadas)</div>

        <div class="cg-examples" id="cgExamples" role="list" aria-label="Lista de ejemplos"></div>

        <div class="cg-pool">
          <div class="cg-panelTitleRow">
            <div class="cg-panelTitle">Sin asignar</div>
            <div class="cg-hint">Arrastra fichas o haz clic para seleccionar (opcional)</div>
          </div>

          <div class="cg-chipWrap" id="cgPool" aria-label="Fichas sin asignar"></div>
          <div class="cg-small" id="cgPoolMsg" aria-live="polite"></div>
        </div>
      </div>

      <!-- RIGHT: Categories -->
      <div class="cg-panel">
        <div class="cg-panelTitle">Categorías</div>

        <div class="cg-cats">
          <!-- A -->
          <div class="cg-cat" data-cat="A" aria-label="Categoría A Dialecto">
            <div class="cg-catTop">
              <div>
                <div class="cg-catName">A) Dialecto</div>
                <div class="cg-catDesc">Variedad regional/social de una lengua</div>
              </div>
              <div class="cg-inputRow">
                <label class="cg-sr" for="cgInA">Número</label>
                <input id="cgInA" class="cg-in" inputmode="numeric" placeholder="#" maxlength="2" />
                <button class="cg-btn cg-btnSoft" data-add="A" type="button">Agregar</button>
              </div>
            </div>
            <div class="cg-drop" id="cgBoxA" aria-label="Asignados a Dialecto"></div>
          </div>

          <!-- B -->
          <div class="cg-cat" data-cat="B" aria-label="Categoría B Lengua/idioma">
            <div class="cg-catTop">
              <div>
                <div class="cg-catName">B) Lengua/idioma</div>
                <div class="cg-catDesc">Sistema lingüístico de una comunidad</div>
              </div>
              <div class="cg-inputRow">
                <label class="cg-sr" for="cgInB">Número</label>
                <input id="cgInB" class="cg-in" inputmode="numeric" placeholder="#" maxlength="2" />
                <button class="cg-btn cg-btnSoft" data-add="B" type="button">Agregar</button>
              </div>
            </div>
            <div class="cg-drop" id="cgBoxB" aria-label="Asignados a Lengua/idioma"></div>
          </div>

          <!-- C -->
          <div class="cg-cat" data-cat="C" aria-label="Categoría C Lenguaje (señales)">
            <div class="cg-catTop">
              <div>
                <div class="cg-catName">C) Lenguaje (señales)</div>
                <div class="cg-catDesc">Señales para comunicar (no “idioma”)</div>
              </div>
              <div class="cg-inputRow">
                <label class="cg-sr" for="cgInC">Número</label>
                <input id="cgInC" class="cg-in" inputmode="numeric" placeholder="#" maxlength="2" />
                <button class="cg-btn cg-btnSoft" data-add="C" type="button">Agregar</button>
              </div>
            </div>
            <div class="cg-drop" id="cgBoxC" aria-label="Asignados a Lenguaje (señales)"></div>
          </div>
        </div>

        <footer class="cg-footer">
          <div class="cg-msg" id="cgMsg" aria-live="polite"></div>
          <div class="cg-actions">
            <button class="cg-btn cg-btnGhost" id="cgReset" type="button">Reiniciar</button>
            <button class="cg-btn cg-btnPrimary" id="cgCheck" type="button" disabled>Enviar y comprobar</button>
          </div>
        </footer>
      </div>
    </div>
  </div>

  <style>
    /* ===== ESTILO SOLO PARA #catGame10 (CLARO sobre fondo oscuro) ===== */
    #catGame10{
      --panel: rgba(255,255,255,.96);
      --panel2: #f6f7fb;
      --stroke: #e5e7eb;

      --text: #111827;
      --muted: #4b5563;

      --accent: #2563eb;
      --accent2:#14b8a6;

      --shadow: 0 18px 55px rgba(0,0,0,.45);
      --shadow2: 0 10px 22px rgba(17,24,39,.12);

      --goodBg: rgba(20,184,166,.14);
      --goodBd: rgba(20,184,166,.40);
      --goodTx: #0f766e;

      --badBg: rgba(239,68,68,.12);
      --badBd: rgba(239,68,68,.32);
      --badTx: #991b1b;

      --radius: 18px;

      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--text);
      padding: 10px 0 0;
    }
    #catGame10 *{ box-sizing:border-box; }

    #catGame10 .cg-shell{
      max-width: 1040px;
      margin: 0 auto;
      padding: 16px;
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,255,255,.94));
      border: 1px solid rgba(255,255,255,.28);
      box-shadow: var(--shadow);
    }

    #catGame10 .cg-head{
      display:flex;
      gap:14px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom: 14px;
    }
    #catGame10 .cg-title{
      margin:0;
      font-size: clamp(1.15rem, 2.1vw, 1.55rem);
      letter-spacing:.2px;
    }
    #catGame10 .cg-sub{
      margin:8px 0 0;
      color: var(--muted);
      max-width: 88ch;
      line-height:1.5;
    }
    #catGame10 .cg-muted{ color: var(--muted); }

    #catGame10 .cg-meta{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }
    #catGame10 .cg-pill{
      background: #fff;
      border: 1px solid var(--stroke);
      padding: 8px 12px;
      border-radius: 999px;
      color: var(--muted);
      font-size: .95rem;
      white-space:nowrap;
      box-shadow: 0 10px 18px rgba(17,24,39,.08);
    }
    #catGame10 .cg-pill strong{ color: var(--text); }

    #catGame10 .cg-board{
      display:grid;
      gap:14px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 980px){
      #catGame10 .cg-board{
        grid-template-columns: 1.05fr .95fr;
        align-items:start;
      }
    }

    #catGame10 .cg-panel{
      background: #fff;
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 12px;
      box-shadow: var(--shadow2);
    }

    #catGame10 .cg-panelTitle{
      font-weight: 950;
      letter-spacing:.2px;
      margin: 2px 0 10px;
    }

    #catGame10 .cg-examples{
      display:grid;
      gap:8px;
      margin-bottom: 12px;
    }

    #catGame10 .cg-exItem{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid var(--stroke);
      background: var(--panel2);
    }

    #catGame10 .cg-num{
      width: 30px;
      height: 30px;
      border-radius: 10px;
      display:grid;
      place-items:center;
      font-weight: 950;
      color: #0b1220;
      background: rgba(37,99,235,.12);
      border: 1px solid rgba(37,99,235,.20);
      flex: 0 0 auto;
    }

    #catGame10 .cg-exText{
      color: var(--text);
      line-height:1.35;
    }

    #catGame10 .cg-pool{
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid var(--stroke);
    }
    #catGame10 .cg-panelTitleRow{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      margin-bottom: 8px;
    }
    #catGame10 .cg-hint{
      color: var(--muted);
      font-size:.92rem;
    }

    #catGame10 .cg-chipWrap{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      padding: 10px;
      border-radius: 14px;
      border: 1px dashed rgba(37,99,235,.22);
      background: #fbfcff;
      min-height: 52px;
    }

    #catGame10 .cg-chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: #fff;
      box-shadow: 0 8px 14px rgba(17,24,39,.08);
      cursor:pointer;
      user-select:none;
      font-weight: 900;
    }
    #catGame10 .cg-chip[draggable="true"]{ cursor: grab; }
    #catGame10 .cg-chip:active{ cursor: grabbing; }

    #catGame10 .cg-chip:hover{
      border-color: rgba(37,99,235,.30);
      background: #f3f6ff;
    }
    #catGame10 .cg-chip.selected{
      outline: 3px solid rgba(37,99,235,.20);
      outline-offset: 2px;
      border-color: rgba(37,99,235,.45);
    }
    #catGame10 .cg-chip .cg-chipNum{
      width: 22px;
      height: 22px;
      border-radius: 8px;
      display:grid;
      place-items:center;
      background: rgba(37,99,235,.12);
      border: 1px solid rgba(37,99,235,.20);
      color:#0b1220;
      font-size:.9rem;
    }

    #catGame10 .cg-small{
      margin-top: 8px;
      color: var(--muted);
      font-size:.93rem;
      min-height: 18px;
    }

    #catGame10 .cg-cats{
      display:grid;
      gap:10px;
    }

    #catGame10 .cg-cat{
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: var(--panel2);
      padding: 12px;
    }

    #catGame10 .cg-catTop{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }

    #catGame10 .cg-catName{
      font-weight: 950;
      letter-spacing:.2px;
    }
    #catGame10 .cg-catDesc{
      color: var(--muted);
      font-size:.93rem;
      margin-top: 2px;
      max-width: 42ch;
    }

    #catGame10 .cg-inputRow{
      display:flex;
      gap:8px;
      align-items:center;
    }

    #catGame10 .cg-in{
      width: 64px;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid var(--stroke);
      background: #fff;
      font-weight: 900;
      outline: none;
    }
    #catGame10 .cg-in:focus{
      outline: 3px solid rgba(37,99,235,.18);
      outline-offset: 2px;
    }

    #catGame10 .cg-drop{
      min-height: 54px;
      padding: 10px;
      border-radius: 14px;
      border: 1px dashed rgba(37,99,235,.18);
      background: #fff;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }

    #catGame10 .cg-drop.good{ background: var(--goodBg); border-color: var(--goodBd); }
    #catGame10 .cg-drop.bad{ background: var(--badBg); border-color: var(--badBd); }

    /* Drop highlight */
    #catGame10 .droptarget{
      outline: 3px solid rgba(37,99,235,.18);
      outline-offset: 2px;
      background: rgba(37,99,235,.06) !important;
      border-color: rgba(37,99,235,.38) !important;
    }

    #catGame10 .cg-footer{
      margin-top: 12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      padding-top: 10px;
      border-top: 1px solid var(--stroke);
    }

    #catGame10 .cg-msg{
      color: var(--muted);
      font-size:.95rem;
      min-height: 20px;
    }
    #catGame10 .cg-msg.error{
      color: var(--badTx);
      font-weight: 900;
    }

    #catGame10 .cg-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    #catGame10 .cg-btn{
      border-radius: 14px;
      padding: 10px 12px;
      font-weight: 950;
      border: 1px solid var(--stroke);
      background: #fff;
      color: var(--text);
      cursor:pointer;
      transition: transform .06s ease, background .15s ease, border-color .15s ease;
      min-height: 42px;
      box-shadow: 0 10px 18px rgba(17,24,39,.08);
    }
    #catGame10 .cg-btn:hover{
      background: #f3f4f6;
      border-color: rgba(37,99,235,.26);
    }
    #catGame10 .cg-btn:active{ transform: translateY(1px); }
    #catGame10 .cg-btn:disabled{ opacity:.55; cursor:not-allowed; }

    #catGame10 .cg-btnPrimary{
      background: rgba(37,99,235,.12);
      border-color: rgba(37,99,235,.24);
    }
    #catGame10 .cg-btnPrimary:hover{
      background: rgba(37,99,235,.16);
    }
    #catGame10 .cg-btnSoft{
      background: rgba(20,184,166,.12);
      border-color: rgba(20,184,166,.26);
    }
    #catGame10 .cg-btnSoft:hover{
      background: rgba(20,184,166,.16);
    }
    #catGame10 .cg-btnGhost{
      background: #fff;
    }

    #catGame10 .shake{
      animation: cgShake .38s ease-in-out;
    }
    @keyframes cgShake{
      0%{ transform: translateX(0); }
      20%{ transform: translateX(-6px); }
      40%{ transform: translateX(6px); }
      60%{ transform: translateX(-4px); }
      80%{ transform: translateX(4px); }
      100%{ transform: translateX(0); }
    }

    #catGame10 .cg-sr{
      position:absolute;
      width:1px; height:1px;
      margin:-1px; padding:0;
      overflow:hidden;
      clip:rect(0,0,0,0);
      border:0;
    }
  </style>

  <script>
    (() => {
      const root = document.getElementById("catGame10");

      // CLAVE: 1-10 -> categoría correcta
      const key = {
        1: "B", 2: "B", 3: "B", 4: "B",
        5: "A", 6: "A", 7: "A",
        8: "C", 9: "C",
        10: "B"
      };

      // PERMUTACIÓN PREDEFINIDA (fija para todos)
      // Números 1..10 quedan en orden, pero el texto cambia según este mapeo.
      // (ej: el ejemplo 1 mostrará "Emojis", el 2 mostrará "Español", etc.)
      const exampleMap = {
        1: "Emojis (🙂🔥🙏)",
        2: "Español",
        3: "Señales de tránsito (p. ej., “PARE”, “ceda el paso”)",
        4: "Quechua",
        5: "Español de México",
        6: "Andaluz",
        7: "Árabe",
        8: "Inglés",
        9: "Español caribeño",
        10: "Lengua de señas (p. ej., ASL / LSC)"
      };

      const numOrder = [1,2,3,4,5,6,7,8,9,10];

      const exListEl = root.querySelector("#cgExamples");
      const poolEl = root.querySelector("#cgPool");
      const poolMsg = root.querySelector("#cgPoolMsg");
      const progressEl = root.querySelector("#cgProgress");
      const scoreEl = root.querySelector("#cgScore");
      const msgEl = root.querySelector("#cgMsg");
      const btnCheck = root.querySelector("#cgCheck");
      const btnReset = root.querySelector("#cgReset");

      const boxA = root.querySelector("#cgBoxA");
      const boxB = root.querySelector("#cgBoxB");
      const boxC = root.querySelector("#cgBoxC");

      const inA = root.querySelector("#cgInA");
      const inB = root.querySelector("#cgInB");
      const inC = root.querySelector("#cgInC");

      const addBtns = Array.from(root.querySelectorAll("[data-add]"));

      // state: número -> "POOL" | "A" | "B" | "C"
      let state = {};
      let checked = false;

      // selección opcional por clic
      let selectedNum = null;

      function initState(){
        state = {};
        for (let i=1;i<=10;i++) state[i] = "POOL";
        checked = false;
        selectedNum = null;
      }

      function setMsg(text, isErr=false){
        msgEl.textContent = text || "";
        msgEl.classList.toggle("error", !!isErr);
      }

      function setPoolMsg(text){
        poolMsg.textContent = text || "";
      }

      function countAssigned(){
        let c = 0;
        for (let i=1;i<=10;i++){
          if (state[i] !== "POOL") c++;
        }
        return c;
      }

      function updateTop(){
        const done = countAssigned();
        progressEl.innerHTML = `Progreso: <strong>${done}/10</strong>`;
        btnCheck.disabled = checked || done !== 10;
        if (!checked){
          scoreEl.innerHTML = `Puntaje: <strong>—</strong>`;
        }
      }

      function makeChip(n){
        const chip = document.createElement("button");
        chip.type = "button";
        chip.className = "cg-chip";
        chip.setAttribute("aria-label", `Ficha ${n}`);
        chip.innerHTML = `<span class="cg-chipNum">${n}</span><span>#${n}</span>`;
        chip.draggable = !checked;

        chip.addEventListener("click", () => {
          if (checked) return;

          if (selectedNum === n){
            selectedNum = null;
            render();
            setPoolMsg("");
            return;
          }
          selectedNum = n;
          render();
          setPoolMsg(`Seleccionaste la ficha ${n}. Ahora arrástrala o haz clic en una categoría (o escríbela en el input).`);
        });

        chip.addEventListener("dragstart", (e) => {
          if (checked) return;
          e.dataTransfer.setData("text/plain", String(n));
          e.dataTransfer.effectAllowed = "move";
        });

        return chip;
      }

      function getBox(cat){
        if (cat === "A") return boxA;
        if (cat === "B") return boxB;
        return boxC;
      }

      function moveNumTo(n, cat){
        if (checked) return;
        if (!(n >= 1 && n <= 10)) return;
        state[n] = cat;
        selectedNum = null;
        setPoolMsg("");
        render();
      }

      function returnToPool(n){
        state[n] = "POOL";
      }

      function renderExamples(){
        exListEl.innerHTML = "";
        for (const n of numOrder){
          const row = document.createElement("div");
          row.className = "cg-exItem";
          row.setAttribute("role","listitem");
          row.innerHTML = `<span class="cg-num">${n}</span><span class="cg-exText">${exampleMap[n]}</span>`;
          exListEl.appendChild(row);
        }
      }

      function render(){
        poolEl.innerHTML = "";
        boxA.innerHTML = "";
        boxB.innerHTML = "";
        boxC.innerHTML = "";

        [poolEl, boxA, boxB, boxC].forEach(el => el.classList.remove("droptarget"));
        [boxA, boxB, boxC].forEach(el => el.classList.remove("good","bad","shake"));

        // Fichas SIEMPRE en orden (pool y categorías)
        for (const i of numOrder){
          const loc = state[i];
          const chip = makeChip(i);

          if (selectedNum === i) chip.classList.add("selected");

          if (loc === "POOL") poolEl.appendChild(chip);
          else getBox(loc).appendChild(chip);
        }

        [inA,inB,inC].forEach(inp => inp.disabled = checked);
        addBtns.forEach(b => b.disabled = checked);

        updateTop();
      }

      // Click en cajas para colocar selectedNum
      [boxA, boxB, boxC].forEach((box) => {
        box.addEventListener("click", () => {
          if (checked) return;
          if (!selectedNum) return;
          const cat = (box === boxA) ? "A" : (box === boxB) ? "B" : "C";
          moveNumTo(selectedNum, cat);
        });
      });

      // ---- Drag & Drop zones: pool + category boxes ----
      const dropZones = [
        { el: poolEl, cat: "POOL" },
        { el: boxA, cat: "A" },
        { el: boxB, cat: "B" },
        { el: boxC, cat: "C" }
      ];

      dropZones.forEach(({el, cat}) => {
        el.addEventListener("dragover", (e) => {
          if (checked) return;
          e.preventDefault();
          el.classList.add("droptarget");
          e.dataTransfer.dropEffect = "move";
        });

        el.addEventListener("dragleave", () => {
          el.classList.remove("droptarget");
        });

        el.addEventListener("drop", (e) => {
          if (checked) return;
          e.preventDefault();
          el.classList.remove("droptarget");

          const raw = e.dataTransfer.getData("text/plain");
          const n = parseInt(raw, 10);
          if (Number.isNaN(n)) return;

          if (cat === "POOL") {
            state[n] = "POOL";
            selectedNum = null;
            setPoolMsg("");
            render();
          } else {
            moveNumTo(n, cat);
          }
        });
      });

      function parseInputValue(v){
        const n = parseInt(String(v).trim(), 10);
        if (Number.isNaN(n)) return null;
        return n;
      }

      function handleAdd(cat){
        if (checked) return;
        const inp = (cat==="A") ? inA : (cat==="B") ? inB : inC;
        const n = parseInputValue(inp.value);
        inp.value = "";

        if (n === null){
          setMsg("Escribe un número válido (1–10).", true);
          return;
        }
        if (n < 1 || n > 10){
          setMsg("El número debe estar entre 1 y 10.", true);
          return;
        }

        setMsg("");
        moveNumTo(n, cat);
      }

      addBtns.forEach(btn => {
        btn.addEventListener("click", () => handleAdd(btn.dataset.add));
      });

      function bindEnter(inp, cat){
        inp.addEventListener("keydown", (e) => {
          if (e.key === "Enter"){
            e.preventDefault();
            handleAdd(cat);
          }
        });
      }
      bindEnter(inA,"A"); bindEnter(inB,"B"); bindEnter(inC,"C");

      function checkAll(){
        if (checked) return;

        if (countAssigned() !== 10){
          setMsg("Asigna los 10 números antes de enviar.", true);
          return;
        }

        checked = true;
        setMsg("Resultados listos. Los incorrectos se devolvieron a “Sin asignar”.", false);

        let score = 0;
        const incorrectNums = [];

        for (let i=1;i<=10;i++){
          const userCat = state[i];
          const ok = userCat === key[i];
          if (ok) score++;
          else incorrectNums.push(i);
        }

        render();

        if (incorrectNums.length){
          incorrectNums.forEach(n => {
            const loc = state[n];
            const box = (loc === "A") ? boxA : (loc === "B") ? boxB : (loc === "C") ? boxC : poolEl;
            if (box !== poolEl) box.classList.add("bad","shake");
          });

          setTimeout(() => {
            incorrectNums.forEach(n => returnToPool(n));
            render();
          }, 520);
        }

        setTimeout(() => {
          ["A","B","C"].forEach(cat => {
            const numsInCat = [];
            for (let i=1;i<=10;i++){
              if (state[i] === cat) numsInCat.push(i);
            }
            if (!numsInCat.length) return;
            const allOk = numsInCat.every(n => key[n] === cat);
            const box = getBox(cat);
            box.classList.add(allOk ? "good" : "bad");
          });

          scoreEl.innerHTML = `Puntaje: <strong>${score}/10</strong>`;
          updateTop();
        }, 650);
      }

      function resetAll(){
        initState();
        setMsg("");
        setPoolMsg("");
        scoreEl.innerHTML = `Puntaje: <strong>—</strong>`;
        render();
      }

      btnCheck.addEventListener("click", checkAll);
      btnReset.addEventListener("click", resetAll);

      // init
      initState();
      renderExamples();
      render();
    })();
  </script>
</section>












<section id="oreoWriteGame" aria-label="Actividad de escritura — OREO">
  <div class="ow-shell">
    <header class="ow-head">
      <div>
        <h2 class="ow-title">Actividad de escritura (OREO)</h2>
        <p class="ow-question">
          <strong>Pregunta:</strong> ¿Por qué las señales de tránsito no son un idioma (como el español o el inglés), aunque sí comunican?
        </p>
        <p class="ow-instr">
          <strong>Instrucción:</strong> Responde en 4 pasos usando <strong>OREO</strong>. Escribe <strong>1–2 oraciones por paso</strong>. Usa tus notas de la conferencia grabada.
        </p>
      </div>
      <div class="ow-meta">
        <div class="ow-pill" id="owStatus">Estado: <strong>Sin enviar</strong></div>
        <div class="ow-pill" id="owCount">Palabras: <strong>0</strong></div>
      </div>
    </header>

    <div class="ow-oreo">
      <div class="ow-oreoTitle">OREO — frases para empezar:</div>
      <div class="ow-oreoGrid">
        <div class="ow-card">
          <div class="ow-cardTop">
            <span class="ow-badge">O</span>
            <span class="ow-cardName">Opinión</span>
          </div>
          <div class="ow-cardText">“En mi opinión, las señales de tránsito no son un idioma porque…”</div>
        </div>

        <div class="ow-card">
          <div class="ow-cardTop">
            <span class="ow-badge">R</span>
            <span class="ow-cardName">Razón</span>
          </div>
          <div class="ow-cardText">“Pienso esto porque…” / “La razón principal es que…”</div>
        </div>

        <div class="ow-card">
          <div class="ow-cardTop">
            <span class="ow-badge">E</span>
            <span class="ow-cardName">Evidencia o ejemplo</span>
          </div>
          <div class="ow-cardText">“Por ejemplo…” / “Esto se ve cuando…” / “Un caso concreto es…”</div>
        </div>

        <div class="ow-card">
          <div class="ow-cardTop">
            <span class="ow-badge">O</span>
            <span class="ow-cardName">Cierre</span>
          </div>
          <div class="ow-cardText">“Por eso, concluyo que…” / “En resumen,…”</div>
        </div>
      </div>
    </div>

    <div class="ow-write">
      <div class="ow-topRow">
        <label class="ow-label" for="owInput">Tu respuesta (un solo cuadro, en 4 pasos OREO)</label>
        <button id="owInsertTemplate" class="ow-btn ow-soft" type="button" title="Inserta la plantilla OREO en el cuadro de texto">
          Insertar plantilla OREO
        </button>
      </div>

      <textarea id="owInput" class="ow-textarea" rows="9" placeholder="Escribe aquí. Consejo: usa el botón “Insertar plantilla OREO” para organizar tu respuesta."></textarea>

      <div class="ow-actions">
        <button id="owSubmit" class="ow-btn ow-primary" type="button">Enviar</button>
        <button id="owEdit" class="ow-btn ow-ghost" type="button" disabled>Editar</button>
        <button id="owReset" class="ow-btn ow-ghost" type="button">Reiniciar</button>
      </div>

      <div id="owMsg" class="ow-msg" aria-live="polite"></div>
    </div>

    <div id="owAfter" class="ow-after" hidden>
      <div class="ow-toggles">
        <button id="owToggleMine" class="ow-btn ow-soft" type="button" aria-expanded="true">Ocultar mi respuesta</button>
        <button id="owToggleModel" class="ow-btn ow-soft" type="button" aria-expanded="false">Mostrar respuesta modelo</button>
      </div>

      <div class="ow-compare">
        <div id="owMinePanel" class="ow-panel">
          <div class="ow-panelTitle">Tu respuesta (enviada)</div>
          <div id="owMineText" class="ow-box" role="region" aria-label="Tu respuesta"></div>
        </div>

        <div id="owModelPanel" class="ow-panel" hidden>
          <div class="ow-panelTitle">Respuesta modelo</div>
          <div class="ow-box" role="region" aria-label="Respuesta modelo">
            Las señales de tránsito no son un idioma en el sentido lingüístico estricto. La razón principal es que un idioma tiene una gramática que permite construir una cantidad prácticamente infinita de mensajes nuevos, mientras que las señales forman un código cerrado para comunicar instrucciones inmediatas. Además, su origen y propósito son distintos: no surgen de una comunidad para hablar de todo, sino que están diseñadas y reguladas por instituciones para una tarea muy específica (seguridad vial). Por eso su alcance es limitado: sirven para prohibir, advertir o guiar, pero no para narrar, argumentar o expresar ideas abstractas; tampoco permiten una interacción real de turnos (preguntar, responder, negociar significado), sino comunicación mayormente unidireccional. Un ejemplo: si ves “PARE” y “CURVA” juntas, no estás creando una “frase” nueva; solo recibes dos avisos fijos ligados al contexto físico del lugar. En resumen, aunque las señales comunican, no funcionan como idioma: son un sistema normado y situacional, no una lengua con productividad general.
          </div>
        </div>
      </div>

      <div class="ow-reflect">
        <div class="ow-panelTitle">Reflexión (comparación)</div>
        <p class="ow-reflectQ">
          ¿Tu respuesta y la respuesta modelo se parecían? ¿Qué argumentos fueron nuevos para ti?
          ¿Qué argumentos no están en la respuesta modelo pero sí están en tu respuesta?
        </p>
        <textarea id="owReflect" class="ow-textarea ow-small" rows="5" placeholder="Escribe aquí tu reflexión..."></textarea>
      </div>
    </div>
  </div>

  <style>
    /* ===== Estilo SOLO para #oreoWriteGame (claro, no oscuro) ===== */
    #oreoWriteGame{
      --panel: rgba(255,255,255,.96);
      --panel2: #f6f7fb;
      --stroke: #e5e7eb;
      --text: #111827;
      --muted: #4b5563;

      --accent: #2563eb;
      --accent2:#14b8a6;

      --shadow: 0 18px 55px rgba(0,0,0,.45);
      --shadow2: 0 10px 22px rgba(17,24,39,.12);

      --radius: 18px;

      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--text);
      padding: 10px 0 0;
    }
    #oreoWriteGame *{ box-sizing:border-box; }

    #oreoWriteGame .ow-shell{
      max-width: 1040px;
      margin: 0 auto;
      padding: 16px;
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,255,255,.94));
      border: 1px solid rgba(255,255,255,.28);
      box-shadow: var(--shadow);
    }

    #oreoWriteGame .ow-head{
      display:flex;
      gap:14px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom: 14px;
    }

    #oreoWriteGame .ow-title{
      margin:0;
      font-size: clamp(1.15rem, 2.1vw, 1.55rem);
      letter-spacing:.2px;
    }
    #oreoWriteGame .ow-question{
      margin:8px 0 0;
      line-height:1.5;
      color: var(--text);
      max-width: 90ch;
    }
    #oreoWriteGame .ow-instr{
      margin:8px 0 0;
      line-height:1.5;
      color: var(--muted);
      max-width: 90ch;
    }

    #oreoWriteGame .ow-meta{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }
    #oreoWriteGame .ow-pill{
      background: #fff;
      border: 1px solid var(--stroke);
      padding: 8px 12px;
      border-radius: 999px;
      color: var(--muted);
      font-size: .95rem;
      white-space:nowrap;
      box-shadow: 0 10px 18px rgba(17,24,39,.08);
    }
    #oreoWriteGame .ow-pill strong{ color: var(--text); }

    #oreoWriteGame .ow-oreo{
      background:#fff;
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 12px;
      box-shadow: var(--shadow2);
      margin-bottom: 14px;
    }
    #oreoWriteGame .ow-oreoTitle{
      font-weight: 950;
      letter-spacing:.2px;
      margin: 2px 0 10px;
    }
    #oreoWriteGame .ow-oreoGrid{
      display:grid;
      gap:10px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 860px){
      #oreoWriteGame .ow-oreoGrid{
        grid-template-columns: 1fr 1fr;
      }
    }
    #oreoWriteGame .ow-card{
      border: 1px solid var(--stroke);
      border-radius: 16px;
      background: var(--panel2);
      padding: 12px;
    }
    #oreoWriteGame .ow-cardTop{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom: 6px;
    }
    #oreoWriteGame .ow-badge{
      width: 28px;
      height: 28px;
      border-radius: 10px;
      display:grid;
      place-items:center;
      font-weight: 950;
      background: rgba(37,99,235,.12);
      border: 1px solid rgba(37,99,235,.20);
      color:#0b1220;
      flex: 0 0 auto;
    }
    #oreoWriteGame .ow-cardName{
      font-weight: 950;
    }
    #oreoWriteGame .ow-cardText{
      color: var(--text);
      line-height:1.45;
    }

    #oreoWriteGame .ow-write{
      background:#fff;
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 12px;
      box-shadow: var(--shadow2);
    }
    #oreoWriteGame .ow-topRow{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      margin-bottom: 8px;
    }
    #oreoWriteGame .ow-label{
      display:block;
      font-weight: 950;
      margin: 0;
    }
    #oreoWriteGame .ow-textarea{
      width: 100%;
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: #fff;
      padding: 12px;
      font-size: 1rem;
      line-height: 1.45;
      outline: none;
      resize: vertical;
      min-height: 140px;
    }
    #oreoWriteGame .ow-textarea:focus{
      outline: 3px solid rgba(37,99,235,.18);
      outline-offset: 2px;
    }
    #oreoWriteGame .ow-textarea[readonly]{
      background: #f9fafb;
    }
    #oreoWriteGame .ow-small{
      min-height: 110px;
    }

    #oreoWriteGame .ow-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top: 10px;
    }
    #oreoWriteGame .ow-btn{
      border-radius: 14px;
      padding: 10px 12px;
      font-weight: 950;
      border: 1px solid var(--stroke);
      background: #fff;
      color: var(--text);
      cursor:pointer;
      transition: transform .06s ease, background .15s ease, border-color .15s ease;
      min-height: 42px;
      box-shadow: 0 10px 18px rgba(17,24,39,.08);
    }
    #oreoWriteGame .ow-btn:hover{
      background: #f3f4f6;
      border-color: rgba(37,99,235,.26);
    }
    #oreoWriteGame .ow-btn:active{ transform: translateY(1px); }
    #oreoWriteGame .ow-btn:disabled{ opacity:.55; cursor:not-allowed; }

    #oreoWriteGame .ow-primary{
      background: rgba(37,99,235,.12);
      border-color: rgba(37,99,235,.24);
    }
    #oreoWriteGame .ow-primary:hover{
      background: rgba(37,99,235,.16);
    }
    #oreoWriteGame .ow-soft{
      background: rgba(20,184,166,.12);
      border-color: rgba(20,184,166,.26);
    }
    #oreoWriteGame .ow-soft:hover{
      background: rgba(20,184,166,.16);
    }
    #oreoWriteGame .ow-ghost{
      background: #fff;
    }

    #oreoWriteGame .ow-msg{
      margin-top: 10px;
      color: var(--muted);
      min-height: 20px;
    }
    #oreoWriteGame .ow-msg.error{
      color: #991b1b;
      font-weight: 900;
    }

    #oreoWriteGame .ow-after{
      margin-top: 14px;
    }
    #oreoWriteGame .ow-toggles{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-bottom: 10px;
    }
    #oreoWriteGame .ow-compare{
      display:grid;
      gap:12px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 900px){
      #oreoWriteGame .ow-compare{
        grid-template-columns: 1fr 1fr;
        align-items:start;
      }
    }
    #oreoWriteGame .ow-panel{
      background:#fff;
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 12px;
      box-shadow: var(--shadow2);
    }
    #oreoWriteGame .ow-panelTitle{
      font-weight: 950;
      letter-spacing:.2px;
      margin: 2px 0 10px;
    }
    #oreoWriteGame .ow-box{
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: var(--panel2);
      padding: 12px;
      line-height: 1.5;
      white-space: pre-wrap;
    }

    #oreoWriteGame .ow-reflect{
      margin-top: 12px;
      background:#fff;
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 12px;
      box-shadow: var(--shadow2);
    }
    #oreoWriteGame .ow-reflectQ{
      margin: 0 0 10px;
      color: var(--muted);
      line-height: 1.5;
    }
  </style>

  <script>
    (() => {
      const root = document.getElementById("oreoWriteGame");
      const input = root.querySelector("#owInput");
      const insert = root.querySelector("#owInsertTemplate");
      const submit = root.querySelector("#owSubmit");
      const edit = root.querySelector("#owEdit");
      const reset = root.querySelector("#owReset");
      const msg = root.querySelector("#owMsg");
      const status = root.querySelector("#owStatus");
      const count = root.querySelector("#owCount");

      const after = root.querySelector("#owAfter");
      const minePanel = root.querySelector("#owMinePanel");
      const modelPanel = root.querySelector("#owModelPanel");
      const mineText = root.querySelector("#owMineText");

      const toggleMine = root.querySelector("#owToggleMine");
      const toggleModel = root.querySelector("#owToggleModel");

      const TEMPLATE =
`O (Opinión): En mi opinión, las señales de tránsito no son un idioma porque…

R (Razón): Pienso esto porque…

E (Evidencia o ejemplo): Por ejemplo…

O (Cierre): Por eso, concluyo que…`;

      function wordCount(t){
        const s = String(t || "").trim();
        if (!s) return 0;
        return s.split(/\s+/).filter(Boolean).length;
      }

      function setMsg(text, isErr=false){
        msg.textContent = text || "";
        msg.classList.toggle("error", !!isErr);
      }

      function setStatus(sent){
        status.innerHTML = `Estado: <strong>${sent ? "Enviado" : "Sin enviar"}</strong>`;
      }

      function updateCount(){
        count.innerHTML = `Palabras: <strong>${wordCount(input.value)}</strong>`;
      }

      function insertTemplate(){
        if (input.readOnly) return;

        const current = input.value.trim();
        if (!current){
          input.value = TEMPLATE;
          updateCount();
          setMsg("Plantilla OREO insertada. Completa cada parte con 1–2 oraciones.");
          input.focus();
          // place cursor at end
          input.setSelectionRange(input.value.length, input.value.length);
          return;
        }

        // If there's already text, insert at cursor position (non-destructive)
        const start = input.selectionStart ?? input.value.length;
        const end = input.selectionEnd ?? input.value.length;
        const before = input.value.slice(0, start);
        const afterText = input.value.slice(end);
        const spacer = (before && !before.endsWith("\n")) ? "\n\n" : "";
        input.value = before + spacer + TEMPLATE + "\n\n" + afterText;
        updateCount();
        setMsg("Plantilla OREO insertada en tu posición del cursor.");
        input.focus();
        const newPos = (before + spacer + TEMPLATE).length;
        input.setSelectionRange(newPos, newPos);
      }

      input.addEventListener("input", updateCount);
      updateCount();
      setStatus(false);

      insert.addEventListener("click", insertTemplate);

      submit.addEventListener("click", () => {
        const t = input.value.trim();
        if (!t){
          setMsg("Escribe tu respuesta antes de enviar.", true);
          return;
        }

        input.readOnly = true;
        submit.disabled = true;
        insert.disabled = true;
        edit.disabled = false;

        mineText.textContent = t;
        after.hidden = false;

        setStatus(true);
        setMsg("Tu respuesta fue enviada. Ahora puedes compararla con la respuesta modelo.");
      });

      edit.addEventListener("click", () => {
        input.readOnly = false;
        submit.disabled = false;
        insert.disabled = false;
        edit.disabled = true;

        setStatus(false);
        setMsg("Puedes editar tu respuesta y volver a enviarla.");
      });

      reset.addEventListener("click", () => {
        input.value = "";
        input.readOnly = false;
        submit.disabled = false;
        insert.disabled = false;
        edit.disabled = true;

        after.hidden = true;
        minePanel.hidden = false;
        modelPanel.hidden = true;
        toggleMine.textContent = "Ocultar mi respuesta";
        toggleMine.setAttribute("aria-expanded", "true");
        toggleModel.textContent = "Mostrar respuesta modelo";
        toggleModel.setAttribute("aria-expanded", "false");

        setStatus(false);
        setMsg("");
        updateCount();

        const refl = root.querySelector("#owReflect");
        if (refl) refl.value = "";
      });

      toggleMine.addEventListener("click", () => {
        const isHidden = minePanel.hidden;
        minePanel.hidden = !isHidden;
        toggleMine.textContent = isHidden ? "Ocultar mi respuesta" : "Mostrar mi respuesta";
        toggleMine.setAttribute("aria-expanded", String(isHidden));
      });

      toggleModel.addEventListener("click", () => {
        const isHidden = modelPanel.hidden;
        modelPanel.hidden = !isHidden;
        toggleModel.textContent = isHidden ? "Ocultar respuesta modelo" : "Mostrar respuesta modelo";
        toggleModel.setAttribute("aria-expanded", String(isHidden));
      });
    })();
  </script>
</section>

          










          
          <!-- END EDITABLE -->
        </section>
      </section>

      <nav class="page-nav page-nav--bottom" aria-label="Week navigation (bottom)">
        <a class="nav-link" href="../index.html">← Back to weeks</a>

        <div class="nav-group" aria-label="Previous and next week (bottom)">
          <span class="nav-link is-disabled" aria-disabled="true">← Prev</span>
          <a class="nav-link" href="./week2.html">Next →</a>
        </div>
      </nav>
    </main>

    <footer class="footer" role="contentinfo">
      <p>
        Sitio construido por Andrés Correal. Esta página se construyó con la ayuda de los materiales de
        Grant Armstrong, Martiniano Etchart y Kiley Specht.
      </p>
    </footer>

    <!-- Optional (future): add week-specific JS here. Create /week.js (empty is fine) to avoid 404. -->
    <script src="../week.js?v=3" defer></script>
  </body>
</html>

















